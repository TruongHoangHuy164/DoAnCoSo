2025-05-11 20:09:25.137 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:09:26.487 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-05-11 20:09:26.492 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-11 20:11:35.265 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:12:51.684 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:12:51.966 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-05-11 20:12:51.982 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-11 20:12:52.016 +07:00 [FTL] Application failed to start.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in H:\DoAnCoSo\DoAnLTW\Program.cs:line 294
2025-05-11 20:13:36.946 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:13:37.207 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-05-11 20:13:37.213 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-11 20:13:37.249 +07:00 [FTL] Application failed to start.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.Extensions.Hosting.DiagnosticContext' while attempting to activate 'Serilog.AspNetCore.RequestLoggingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in H:\DoAnCoSo\DoAnLTW\Program.cs:line 294
2025-05-11 20:15:31.498 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:15:31.833 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:15:31.863 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:15:31.866 +07:00 [INF] Hosting environment: Development
2025-05-11 20:15:31.867 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:15:32.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:15:32.488 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:15:32.498 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:15:34.312 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:15:34.382 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:15:34.475 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:15:34.513 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:15:34.645 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:15:34.751 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:15:34.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:15:34.878 +07:00 [INF] Executed ViewResult - view Index executed in 234.7195ms.
2025-05-11 20:15:34.883 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 2381.8869ms
2025-05-11 20:15:34.886 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:15:34.890 +07:00 [INF] HTTP GET / responded 200 in 2433.6481 ms
2025-05-11 20:15:34.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 2526.5361ms
2025-05-11 20:15:34.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:15:34.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:15:34.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:15:34.967 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 11.2365ms
2025-05-11 20:15:34.971 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 3.0426 ms
2025-05-11 20:15:34.982 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 25.586ms
2025-05-11 20:15:34.989 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:15:35.002 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.2497ms
2025-05-11 20:15:41.640 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:15:41.686 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:15:41.694 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:15:41.714 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:15:41.725 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:15:41.751 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:15:41.791 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:15:42.099 +07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:15:42.192 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:15:42.222 +07:00 [INF] Executed ViewResult - view Index executed in 431.6334ms.
2025-05-11 20:15:42.224 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 521.7879ms
2025-05-11 20:15:42.226 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:15:42.228 +07:00 [INF] HTTP GET / responded 200 in 569.4659 ms
2025-05-11 20:15:42.231 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 591.3441ms
2025-05-11 20:15:42.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:15:42.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:15:42.259 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.9123ms
2025-05-11 20:15:42.289 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.6295ms
2025-05-11 20:15:47.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:15:47.094 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:15:47.102 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:15:47.113 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:15:47.289 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:15:47.292 +07:00 [INF] No unread customer messages found.
2025-05-11 20:15:47.299 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:15:47.319 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:15:47.334 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:15:47.344 +07:00 [INF] Executed ViewResult - view Index executed in 44.8851ms.
2025-05-11 20:15:47.346 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 241.6168ms
2025-05-11 20:15:47.350 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:15:47.356 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 277.1136 ms
2025-05-11 20:15:47.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 287.3244ms
2025-05-11 20:15:47.370 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:15:47.372 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:15:47.394 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 21.8229ms
2025-05-11 20:15:47.396 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:15:47.400 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4865ms
2025-05-11 20:15:47.404 +07:00 [INF] CORS policy execution failed.
2025-05-11 20:15:47.408 +07:00 [INF] Request origin https://localhost:5134 does not have permission to access the resource.
2025-05-11 20:15:47.426 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:15:47.440 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:15:47.443 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 41.1972 ms
2025-05-11 20:15:47.448 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 52.0798ms
2025-05-11 20:15:47.452 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=mKOYWI-LOcnOohH5pPEbtg - null null
2025-05-11 20:15:47.460 +07:00 [INF] CORS policy execution failed.
2025-05-11 20:15:47.461 +07:00 [INF] Request origin https://localhost:5134 does not have permission to access the resource.
2025-05-11 20:15:47.466 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:15:47.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:15:47.515 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:32.050 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:16:32.345 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:16:32.372 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:16:32.373 +07:00 [INF] Hosting environment: Development
2025-05-11 20:16:32.375 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:16:32.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:16:33.068 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:33.078 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:16:34.024 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:34.075 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:34.174 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:16:34.211 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:16:34.290 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:16:34.392 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:34.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:34.441 +07:00 [INF] Executed ViewResult - view Index executed in 151.1272ms.
2025-05-11 20:16:34.447 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1364.7234ms
2025-05-11 20:16:34.450 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:34.455 +07:00 [INF] HTTP GET / responded 200 in 1416.3182 ms
2025-05-11 20:16:34.462 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:34.463 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:16:34.464 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:34.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1506.428ms
2025-05-11 20:16:34.478 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 2.5364 ms
2025-05-11 20:16:34.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 14.6208ms
2025-05-11 20:16:34.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 28.49ms
2025-05-11 20:16:34.501 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:16:34.505 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.242ms
2025-05-11 20:16:36.433 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:16:36.444 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:16:36.460 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:16:36.475 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:16:36.481 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:16:36.484 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:16:36.487 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:16:36.490 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:16:36.528 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:36.535 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:36.547 +07:00 [INF] Executed page /Account/Login in 83.983ms
2025-05-11 20:16:36.550 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:16:36.552 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 110.1230 ms
2025-05-11 20:16:36.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 120.7573ms
2025-05-11 20:16:36.576 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:16:36.581 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 0.5419 ms
2025-05-11 20:16:36.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:16:36.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:16:36.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 7.9305ms
2025-05-11 20:16:36.587 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:16:36.587 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:16:36.587 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:36.587 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:16:36.642 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 49.1222 ms
2025-05-11 20:16:36.645 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.3930 ms
2025-05-11 20:16:36.648 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:16:36.652 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.2762 ms
2025-05-11 20:16:36.654 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.1972 ms
2025-05-11 20:16:36.657 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 70.4839ms
2025-05-11 20:16:36.640 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:36.664 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.4279 ms
2025-05-11 20:16:36.666 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 83.2149ms
2025-05-11 20:16:36.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 79.3908ms
2025-05-11 20:16:36.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 84.4611ms
2025-05-11 20:16:36.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 87.2744ms
2025-05-11 20:16:36.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 100.2483ms
2025-05-11 20:16:36.692 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:16:36.696 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.5407ms
2025-05-11 20:16:36.697 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:16:36.701 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:16:36.704 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:16:36.707 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:16:37.672 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 269
2025-05-11 20:16:37.679 +07:00 [INF] CORS policy execution failed.
2025-05-11 20:16:37.680 +07:00 [INF] Request origin https://localhost:5134 does not have permission to access the resource.
2025-05-11 20:16:37.682 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:16:37.684 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:16:37.707 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:16:37.801 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:16:37.905 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:16:37.923 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:37.937 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:16:37.953 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:16:37.960 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:16:37.969 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:16:37.975 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:37.978 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:16:37.982 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:16:37.983 +07:00 [INF] Executed page /Account/Login in 297.4096ms
2025-05-11 20:16:37.985 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:16:37.986 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 308.3306 ms
2025-05-11 20:16:37.989 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 317.034ms
2025-05-11 20:16:37.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:16:38.001 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:38.004 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:16:38.010 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:38.030 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:38.052 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:16:38.066 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:16:38.072 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:38.077 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:38.082 +07:00 [INF] Executed ViewResult - view Index executed in 16.3198ms.
2025-05-11 20:16:38.085 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 78.0504ms
2025-05-11 20:16:38.088 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:38.089 +07:00 [INF] HTTP GET / responded 200 in 91.0072 ms
2025-05-11 20:16:38.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 99.6973ms
2025-05-11 20:16:38.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:16:38.111 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:38.112 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:38.112 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 1.6257 ms
2025-05-11 20:16:38.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.6396ms
2025-05-11 20:16:38.120 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 13.3085ms
2025-05-11 20:16:38.124 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.86ms
2025-05-11 20:16:38.128 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:16:45.413 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:16:45.423 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:45.427 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:16:45.439 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:45.447 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:45.474 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:16:45.522 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:16:45.529 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:45.535 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:45.541 +07:00 [INF] Executed ViewResult - view Index executed in 18.754ms.
2025-05-11 20:16:45.543 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 112.0543ms
2025-05-11 20:16:45.546 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:45.548 +07:00 [INF] HTTP GET / responded 200 in 125.5940 ms
2025-05-11 20:16:45.551 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 138.0818ms
2025-05-11 20:16:45.572 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/animate/animate.min.css - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/owlcarousel/assets/owl.carousel.min.css - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider3.jpg - null null
2025-05-11 20:16:45.617 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/owlcarousel/owl.carousel.min.js - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/easing/easing.min.js - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/giamgia2.jpg - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/giamgia1.jpg - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider1.jpg - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider2.jpg - null null
2025-05-11 20:16:45.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/css/style.css - null null
2025-05-11 20:16:45.618 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:16:45.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/mail/contact.js - null null
2025-05-11 20:16:45.640 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:45.651 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg - null null
2025-05-11 20:16:45.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg - null null
2025-05-11 20:16:45.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg - null null
2025-05-11 20:16:45.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg - null null
2025-05-11 20:16:45.713 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg - null null
2025-05-11 20:16:45.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg - null null
2025-05-11 20:16:45.759 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg - null null
2025-05-11 20:16:45.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg - null null
2025-05-11 20:16:45.781 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg - null null
2025-05-11 20:16:45.782 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg - null null
2025-05-11 20:16:45.782 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg - null null
2025-05-11 20:16:45.785 +07:00 [INF] Sending file. Request path: '/lib/easing/easing.min.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\lib\easing\easing.min.js'
2025-05-11 20:16:45.785 +07:00 [INF] Sending file. Request path: '/lib/owlcarousel/assets/owl.carousel.min.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\lib\owlcarousel\assets\owl.carousel.min.css'
2025-05-11 20:16:45.786 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg - null null
2025-05-11 20:16:45.791 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg - null null
2025-05-11 20:16:45.795 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg - null null
2025-05-11 20:16:45.808 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg - null null
2025-05-11 20:16:45.812 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg - null null
2025-05-11 20:16:45.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg - null null
2025-05-11 20:16:45.819 +07:00 [INF] Sending file. Request path: '/mail/contact.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\mail\contact.js'
2025-05-11 20:16:45.917 +07:00 [INF] HTTP GET /mail/contact.js responded 200 in 98.9202 ms
2025-05-11 20:16:45.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/Wikas.png - null null
2025-05-11 20:16:45.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/zalo_icon.png - null null
2025-05-11 20:16:45.838 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:45.849 +07:00 [INF] Sending file. Request path: '/mail/jqBootstrapValidation.min.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\mail\jqBootstrapValidation.min.js'
2025-05-11 20:16:45.870 +07:00 [INF] Sending file. Request path: '/lib/animate/animate.min.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\lib\animate\animate.min.css'
2025-05-11 20:16:45.875 +07:00 [INF] Sending file. Request path: '/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg'
2025-05-11 20:16:45.880 +07:00 [INF] HTTP GET /lib/owlcarousel/assets/owl.carousel.min.css responded 200 in 192.9844 ms
2025-05-11 20:16:45.878 +07:00 [INF] HTTP GET /lib/easing/easing.min.js responded 200 in 95.6699 ms
2025-05-11 20:16:45.887 +07:00 [INF] Sending file. Request path: '/img/giamgia1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\giamgia1.jpg'
2025-05-11 20:16:45.876 +07:00 [INF] Sending file. Request path: '/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\7eb073ea-ed48-4420-9379-d183c6d54941.jpg'
2025-05-11 20:16:45.896 +07:00 [INF] Sending file. Request path: '/img/slider1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider1.jpg'
2025-05-11 20:16:45.907 +07:00 [INF] Sending file. Request path: '/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg'
2025-05-11 20:16:45.902 +07:00 [INF] Sending file. Request path: '/img/slider2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider2.jpg'
2025-05-11 20:16:45.913 +07:00 [INF] Sending file. Request path: '/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg'
2025-05-11 20:16:45.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/mail/contact.js - 200 2663 text/javascript 293.7697ms
2025-05-11 20:16:45.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:16:45.930 +07:00 [INF] Sending file. Request path: '/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\69001358-13af-48c1-9cf0-26056c765bdb.jpg'
2025-05-11 20:16:45.942 +07:00 [INF] Sending file. Request path: '/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\89668607-d553-4501-8eed-ac8772806da6.jpg'
2025-05-11 20:16:45.947 +07:00 [INF] Sending file. Request path: '/img/giamgia2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\giamgia2.jpg'
2025-05-11 20:16:45.947 +07:00 [INF] HTTP GET /mail/jqBootstrapValidation.min.js responded 200 in 134.3447 ms
2025-05-11 20:16:45.849 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 209.2771ms
2025-05-11 20:16:45.855 +07:00 [INF] Sending file. Request path: '/lib/owlcarousel/owl.carousel.min.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\lib\owlcarousel\owl.carousel.min.js'
2025-05-11 20:16:45.859 +07:00 [INF] Sending file. Request path: '/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\f37e33fb-809a-4240-990d-9344cdc138e1.jpg'
2025-05-11 20:16:45.862 +07:00 [INF] Sending file. Request path: '/img/slider3.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider3.jpg'
2025-05-11 20:16:45.954 +07:00 [INF] HTTP GET /lib/animate/animate.min.css responded 200 in 374.9542 ms
2025-05-11 20:16:45.957 +07:00 [INF] HTTP GET /img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg responded 200 in 129.2091 ms
2025-05-11 20:16:45.961 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/owlcarousel/assets/owl.carousel.min.css - 200 2941 text/css 382.143ms
2025-05-11 20:16:45.965 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/easing/easing.min.js - 200 2303 text/javascript 385.9783ms
2025-05-11 20:16:45.969 +07:00 [INF] HTTP GET /img/giamgia1.jpg responded 200 in 178.7987 ms
2025-05-11 20:16:45.973 +07:00 [INF] HTTP GET /img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg responded 200 in 111.3796 ms
2025-05-11 20:16:45.977 +07:00 [INF] HTTP GET /img/slider1.jpg responded 200 in 182.5778 ms
2025-05-11 20:16:45.982 +07:00 [INF] HTTP GET /img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg responded 200 in 115.9513 ms
2025-05-11 20:16:45.986 +07:00 [INF] HTTP GET /img/slider2.jpg responded 200 in 186.7851 ms
2025-05-11 20:16:45.991 +07:00 [INF] HTTP GET /img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg responded 200 in 134.4882 ms
2025-05-11 20:16:46.008 +07:00 [INF] Sending file. Request path: '/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg'
2025-05-11 20:16:46.012 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.8215 ms
2025-05-11 20:16:46.016 +07:00 [INF] HTTP GET /img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg responded 200 in 179.2434 ms
2025-05-11 20:16:46.024 +07:00 [INF] HTTP GET /img/products/89668607-d553-4501-8eed-ac8772806da6.jpg responded 200 in 176.6895 ms
2025-05-11 20:16:46.033 +07:00 [INF] HTTP GET /img/giamgia2.jpg responded 200 in 246.8930 ms
2025-05-11 20:16:46.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/mail/jqBootstrapValidation.min.js - 200 14877 text/javascript 419.296ms
2025-05-11 20:16:46.054 +07:00 [INF] HTTP GET /lib/owlcarousel/owl.carousel.min.js responded 200 in 276.5886 ms
2025-05-11 20:16:46.055 +07:00 [INF] Sending file. Request path: '/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\857b0254-999d-4823-b856-fb74e7d09b0f.jpg'
2025-05-11 20:16:46.058 +07:00 [INF] HTTP GET /img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg responded 200 in 216.4100 ms
2025-05-11 20:16:46.061 +07:00 [INF] HTTP GET /img/slider3.jpg responded 200 in 341.9593 ms
2025-05-11 20:16:46.064 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/animate/animate.min.css - 200 71757 text/css 491.8657ms
2025-05-11 20:16:46.067 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg - 200 71723 image/jpeg 415.5444ms
2025-05-11 20:16:46.073 +07:00 [INF] Sending file. Request path: '/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg'
2025-05-11 20:16:46.081 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/giamgia1.jpg - 200 89671 image/jpeg 501.6793ms
2025-05-11 20:16:46.082 +07:00 [INF] Sending file. Request path: '/img/zalo_icon.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\zalo_icon.png'
2025-05-11 20:16:46.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg - 200 46383 image/jpeg 317.7583ms
2025-05-11 20:16:46.091 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider1.jpg - 200 93525 image/jpeg 512.0776ms
2025-05-11 20:16:46.095 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg - 200 47386 image/jpeg 314.3233ms
2025-05-11 20:16:46.100 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider2.jpg - 200 96466 image/jpeg 520.6864ms
2025-05-11 20:16:46.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg - 200 59840 image/jpeg 345.0365ms
2025-05-11 20:16:46.108 +07:00 [INF] HTTP GET /img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg responded 200 in 255.5659 ms
2025-05-11 20:16:46.159 +07:00 [INF] Sending file. Request path: '/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\bfc876ad-6aac-45e0-8b18-42473db4e447.jpg'
2025-05-11 20:16:46.168 +07:00 [INF] Sending file. Request path: '/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\331246df-2e4d-4049-805a-a554185766d1.jpg'
2025-05-11 20:16:46.170 +07:00 [INF] HTTP GET /img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg responded 200 in 337.0224 ms
2025-05-11 20:16:46.178 +07:00 [INF] HTTP GET /img/zalo_icon.png responded 200 in 242.6527 ms
2025-05-11 20:16:46.177 +07:00 [INF] Sending file. Request path: '/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg'
2025-05-11 20:16:46.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 374.4308ms
2025-05-11 20:16:46.186 +07:00 [INF] Sending file. Request path: '/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\3345ee56-9133-4e14-a6a3-06560acd6403.jpg'
2025-05-11 20:16:46.190 +07:00 [INF] Sending file. Request path: '/css/style.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\css\style.css'
2025-05-11 20:16:46.195 +07:00 [INF] Sending file. Request path: '/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg'
2025-05-11 20:16:46.199 +07:00 [INF] Sending file. Request path: '/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\a7c410d5-8508-4474-81ac-c7293536acbf.jpg'
2025-05-11 20:16:46.220 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg - 200 98323 image/jpeg 500.4625ms
2025-05-11 20:16:46.113 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 290.5761ms
2025-05-11 20:16:46.117 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg - 200 93941 image/jpeg 422.3769ms
2025-05-11 20:16:46.120 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg - 200 93324 image/jpeg 407.2882ms
2025-05-11 20:16:46.124 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/giamgia2.jpg - 200 105235 image/jpeg 544.5794ms
2025-05-11 20:16:46.132 +07:00 [INF] Sending file. Request path: '/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\3fee581e-1506-4ae5-8503-06cbab130d12.jpg'
2025-05-11 20:16:46.143 +07:00 [INF] HTTP GET /img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg responded 200 in 231.8456 ms
2025-05-11 20:16:46.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/owlcarousel/owl.carousel.min.js - 200 42772 text/javascript 517.9794ms
2025-05-11 20:16:46.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg - 200 27785 image/jpeg 447.5632ms
2025-05-11 20:16:46.154 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider3.jpg - 200 56205 image/jpeg 574.8109ms
2025-05-11 20:16:46.265 +07:00 [INF] HTTP GET /img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg responded 200 in 364.9640 ms
2025-05-11 20:16:46.276 +07:00 [INF] HTTP GET /img/products/331246df-2e4d-4049-805a-a554185766d1.jpg responded 200 in 370.3932 ms
2025-05-11 20:16:46.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg - 200 125093 image/jpeg 593.3469ms
2025-05-11 20:16:46.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/zalo_icon.png - 200 41526 image/png 450.4317ms
2025-05-11 20:16:46.287 +07:00 [INF] HTTP GET /img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg responded 200 in 417.1243 ms
2025-05-11 20:16:46.295 +07:00 [INF] HTTP GET /img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg responded 200 in 409.1719 ms
2025-05-11 20:16:46.297 +07:00 [INF] HTTP GET /css/style.css responded 200 in 491.2277 ms
2025-05-11 20:16:46.298 +07:00 [INF] HTTP GET /img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg responded 200 in 423.3234 ms
2025-05-11 20:16:46.299 +07:00 [INF] Sending file. Request path: '/img/Wikas.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\Wikas.png'
2025-05-11 20:16:46.300 +07:00 [INF] HTTP GET /img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg responded 200 in 404.7632 ms
2025-05-11 20:16:46.311 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:16:46.338 +07:00 [INF] HTTP GET /img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg responded 200 in 447.5292 ms
2025-05-11 20:16:46.345 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg - 200 32206 image/jpeg 531.8267ms
2025-05-11 20:16:46.367 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg - 200 62298 image/jpeg 558.7309ms
2025-05-11 20:16:46.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg - 200 62701 image/jpeg 558.4826ms
2025-05-11 20:16:46.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg - 200 94329 image/jpeg 601.1291ms
2025-05-11 20:16:46.386 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg - 200 95192 image/jpeg 600.2542ms
2025-05-11 20:16:46.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/css/style.css - 200 185665 text/css 809.4764ms
2025-05-11 20:16:46.393 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg - 200 115497 image/jpeg 610.4915ms
2025-05-11 20:16:46.394 +07:00 [INF] HTTP GET /img/Wikas.png responded 200 in 466.7567 ms
2025-05-11 20:16:46.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg - 200 111678 image/jpeg 600.9219ms
2025-05-11 20:16:46.401 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg - 200 64362 image/jpeg 610.0196ms
2025-05-11 20:16:46.434 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/Wikas.png - 200 2630967 image/png 605.3956ms
2025-05-11 20:16:46.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png - null null
2025-05-11 20:16:46.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png - null null
2025-05-11 20:16:46.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg - null null
2025-05-11 20:16:46.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg - null null
2025-05-11 20:16:46.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg - null null
2025-05-11 20:16:46.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg - null null
2025-05-11 20:16:46.608 +07:00 [INF] Sending file. Request path: '/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\cceb76da-6282-4de4-9cd6-954bfaa9a287.png'
2025-05-11 20:16:46.612 +07:00 [INF] Sending file. Request path: '/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\ba18ca54-a7d7-4f23-b6f3-593389f14504.png'
2025-05-11 20:16:46.614 +07:00 [INF] Sending file. Request path: '/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg'
2025-05-11 20:16:46.617 +07:00 [INF] Sending file. Request path: '/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\0409374e-ef4c-4670-87f2-6c692feb0542.jpg'
2025-05-11 20:16:46.621 +07:00 [INF] Sending file. Request path: '/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg'
2025-05-11 20:16:46.623 +07:00 [INF] Sending file. Request path: '/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg'
2025-05-11 20:16:46.624 +07:00 [INF] HTTP GET /img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png responded 200 in 17.8427 ms
2025-05-11 20:16:46.626 +07:00 [INF] HTTP GET /img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png responded 200 in 15.8991 ms
2025-05-11 20:16:46.627 +07:00 [INF] HTTP GET /img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg responded 200 in 14.2128 ms
2025-05-11 20:16:46.629 +07:00 [INF] HTTP GET /img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg responded 200 in 12.4126 ms
2025-05-11 20:16:46.631 +07:00 [INF] HTTP GET /img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg responded 200 in 11.1669 ms
2025-05-11 20:16:46.632 +07:00 [INF] HTTP GET /img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg responded 200 in 9.4735 ms
2025-05-11 20:16:46.635 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png - 200 111311 image/png 32.0238ms
2025-05-11 20:16:46.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png - 200 120881 image/png 37.4095ms
2025-05-11 20:16:46.644 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg - 200 3765 image/jpeg 41.8642ms
2025-05-11 20:16:46.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg - 200 7292 image/jpeg 44.3033ms
2025-05-11 20:16:46.651 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg - 200 10190 image/jpeg 48.5511ms
2025-05-11 20:16:46.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg - 200 10528 image/jpeg 50.9051ms
2025-05-11 20:16:48.280 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:16:48.288 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:16:48.290 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:16:48.292 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:16:48.294 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:16:48.297 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:16:48.299 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:16:48.301 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:16:48.311 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:48.317 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:48.324 +07:00 [INF] Executed page /Account/Login in 32.2633ms
2025-05-11 20:16:48.326 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:16:48.328 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 40.2046 ms
2025-05-11 20:16:48.331 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 50.4836ms
2025-05-11 20:16:48.359 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:48.360 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:48.366 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 2.2593 ms
2025-05-11 20:16:48.375 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.2221 ms
2025-05-11 20:16:48.371 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.3604 ms
2025-05-11 20:16:48.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 27.2125ms
2025-05-11 20:16:48.383 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.3396 ms
2025-05-11 20:16:48.368 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.2164 ms
2025-05-11 20:16:48.379 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.2270 ms
2025-05-11 20:16:48.393 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 34.3865ms
2025-05-11 20:16:48.395 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 35.2918ms
2025-05-11 20:16:48.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.4553ms
2025-05-11 20:16:48.398 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 37.9781ms
2025-05-11 20:16:48.404 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 43.9662ms
2025-05-11 20:16:48.406 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 46.3569ms
2025-05-11 20:16:48.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 49.1277ms
2025-05-11 20:16:48.413 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:16:48.418 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:16:48.430 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:16:48.434 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:16:48.439 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:16:48.445 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:16:52.759 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 269
2025-05-11 20:16:52.769 +07:00 [INF] CORS policy execution failed.
2025-05-11 20:16:52.772 +07:00 [INF] Request origin https://localhost:5134 does not have permission to access the resource.
2025-05-11 20:16:52.777 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:16:52.780 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:16:52.785 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:16:52.794 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:16:52.950 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:16:52.959 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:52.966 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:16:52.973 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:16:52.978 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:16:52.982 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:16:52.995 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:52.998 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:16:52.999 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:16:53.001 +07:00 [INF] Executed page /Account/Login in 217.5776ms
2025-05-11 20:16:53.004 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:16:53.005 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 236.1109 ms
2025-05-11 20:16:53.007 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 247.5724ms
2025-05-11 20:16:53.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:16:53.020 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:53.025 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:16:53.032 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:16:53.037 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:16:53.055 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:16:53.068 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:16:53.152 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:16:53.158 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:53.175 +07:00 [INF] Executed ViewResult - view Index executed in 107.288ms.
2025-05-11 20:16:53.181 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 152.7747ms
2025-05-11 20:16:53.184 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:16:53.185 +07:00 [INF] HTTP GET / responded 200 in 167.2788 ms
2025-05-11 20:16:53.188 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 178.3001ms
2025-05-11 20:16:53.207 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css - null null
2025-05-11 20:16:53.207 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/css/style.css - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/WikasLogo.png - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/faces/face3.jpg - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/faces/face2.jpg - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/faces/face4.jpg - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/js/off-canvas.js - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/js/vendor.bundle.base.js - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/js/hoverable-collapse.js - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/js/misc.js - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/WikasTown.png - null null
2025-05-11 20:16:53.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:53.216 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\mdi\css\materialdesignicons.min.css'
2025-05-11 20:16:53.254 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/js/misc.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\js\misc.js'
2025-05-11 20:16:53.249 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/js/vendor.bundle.base.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\js\vendor.bundle.base.js'
2025-05-11 20:16:53.244 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/js/off-canvas.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\js\off-canvas.js'
2025-05-11 20:16:53.250 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/js/hoverable-collapse.js'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\js\hoverable-collapse.js'
2025-05-11 20:16:53.239 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/images/faces/face4.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\images\faces\face4.jpg'
2025-05-11 20:16:53.234 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/images/faces/face2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\images\faces\face2.jpg'
2025-05-11 20:16:53.234 +07:00 [INF] Sending file. Request path: '/img/WikasLogo.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\WikasLogo.png'
2025-05-11 20:16:53.228 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/css/style.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\css\style.css'
2025-05-11 20:16:53.220 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\css\vendor.bundle.base.css'
2025-05-11 20:16:53.230 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/images/faces/face3.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\images\faces\face3.jpg'
2025-05-11 20:16:53.263 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css responded 200 in 48.6315 ms
2025-05-11 20:16:53.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 48.146ms
2025-05-11 20:16:53.296 +07:00 [INF] HTTP GET /LayoutAdmin/assets/js/misc.js responded 200 in 43.3477 ms
2025-05-11 20:16:53.302 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/js/vendor.bundle.base.js responded 200 in 55.2982 ms
2025-05-11 20:16:53.302 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.16ms
2025-05-11 20:16:53.305 +07:00 [INF] HTTP GET /LayoutAdmin/assets/js/off-canvas.js responded 200 in 61.2151 ms
2025-05-11 20:16:53.308 +07:00 [INF] HTTP GET /LayoutAdmin/assets/js/hoverable-collapse.js responded 200 in 58.4197 ms
2025-05-11 20:16:53.310 +07:00 [INF] HTTP GET /LayoutAdmin/assets/images/faces/face4.jpg responded 200 in 72.2230 ms
2025-05-11 20:16:53.312 +07:00 [INF] HTTP GET /LayoutAdmin/assets/images/faces/face2.jpg responded 200 in 78.1934 ms
2025-05-11 20:16:53.315 +07:00 [INF] HTTP GET /img/WikasLogo.png responded 200 in 88.7036 ms
2025-05-11 20:16:53.317 +07:00 [INF] HTTP GET /LayoutAdmin/assets/css/style.css responded 200 in 93.8709 ms
2025-05-11 20:16:53.319 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/css/vendor.bundle.base.css responded 200 in 99.9287 ms
2025-05-11 20:16:53.322 +07:00 [INF] HTTP GET /LayoutAdmin/assets/images/faces/face3.jpg responded 200 in 92.9773 ms
2025-05-11 20:16:53.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css - 200 163363 text/css 117.241ms
2025-05-11 20:16:53.332 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/js/misc.js - 200 6136 text/javascript 124.1146ms
2025-05-11 20:16:53.333 +07:00 [INF] Sending file. Request path: '/img/WikasTown.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\WikasTown.png'
2025-05-11 20:16:53.335 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/js/vendor.bundle.base.js - 200 187211 text/javascript 126.987ms
2025-05-11 20:16:53.341 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/js/off-canvas.js - 200 192 text/javascript 133.4825ms
2025-05-11 20:16:53.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/js/hoverable-collapse.js - 200 928 text/javascript 136.0804ms
2025-05-11 20:16:53.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/faces/face4.jpg - 200 11728 image/jpeg 139.1381ms
2025-05-11 20:16:53.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/faces/face2.jpg - 200 13360 image/jpeg 141.8564ms
2025-05-11 20:16:53.352 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/WikasLogo.png - 200 1095077 image/png 144.5609ms
2025-05-11 20:16:53.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/css/style.css - 200 433360 text/css 146.7891ms
2025-05-11 20:16:53.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css - 200 2714 text/css 150.0892ms
2025-05-11 20:16:53.359 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/faces/face3.jpg - 200 15550 image/jpeg 151.6944ms
2025-05-11 20:16:53.370 +07:00 [INF] HTTP GET /img/WikasTown.png responded 200 in 111.3116 ms
2025-05-11 20:16:53.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/WikasTown.png - 200 2862515 image/png 209.0723ms
2025-05-11 20:16:53.417 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Bold.woff2 - null null
2025-05-11 20:16:53.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Regular.woff2 - null null
2025-05-11 20:16:53.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Medium.woff2 - null null
2025-05-11 20:16:53.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Light.woff2 - null null
2025-05-11 20:16:53.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/fonts/materialdesignicons-webfont.woff2?v=3.7.95 - null null
2025-05-11 20:16:53.427 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Bold.woff2'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\fonts\Ubuntu\Ubuntu-Bold.woff2'
2025-05-11 20:16:53.430 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Regular.woff2'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\fonts\Ubuntu\Ubuntu-Regular.woff2'
2025-05-11 20:16:53.434 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Medium.woff2'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\fonts\Ubuntu\Ubuntu-Medium.woff2'
2025-05-11 20:16:53.437 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Light.woff2'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\fonts\Ubuntu\Ubuntu-Light.woff2'
2025-05-11 20:16:53.440 +07:00 [INF] HTTP GET /LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Bold.woff2 responded 200 in 14.9857 ms
2025-05-11 20:16:53.441 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/mdi/fonts/materialdesignicons-webfont.woff2'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\mdi\fonts\materialdesignicons-webfont.woff2'
2025-05-11 20:16:53.442 +07:00 [INF] HTTP GET /LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Regular.woff2 responded 200 in 13.1427 ms
2025-05-11 20:16:53.444 +07:00 [INF] HTTP GET /LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Medium.woff2 responded 200 in 11.3699 ms
2025-05-11 20:16:53.446 +07:00 [INF] HTTP GET /LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Light.woff2 responded 200 in 9.9614 ms
2025-05-11 20:16:53.448 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Bold.woff2 - 200 84400 font/woff2 30.915ms
2025-05-11 20:16:53.450 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/mdi/fonts/materialdesignicons-webfont.woff2 responded 200 in 11.3298 ms
2025-05-11 20:16:53.452 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Regular.woff2 - 200 99456 font/woff2 31.4779ms
2025-05-11 20:16:53.455 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Medium.woff2 - 200 90232 font/woff2 33.6396ms
2025-05-11 20:16:53.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/fonts/Ubuntu/Ubuntu-Light.woff2 - 200 116192 font/woff2 35.7074ms
2025-05-11 20:16:53.464 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/fonts/materialdesignicons-webfont.woff2?v=3.7.95 - 200 198460 font/woff2 42.5534ms
2025-05-11 20:16:53.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/favicon.ico - null null
2025-05-11 20:16:53.644 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/images/favicon.ico'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\images\favicon.ico'
2025-05-11 20:16:53.645 +07:00 [INF] HTTP GET /LayoutAdmin/assets/images/favicon.ico responded 200 in 3.0174 ms
2025-05-11 20:16:53.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/images/favicon.ico - 200 4154 image/x-icon 13.2087ms
2025-05-11 20:16:54.682 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:16:54.700 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:16:54.709 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:16:54.718 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:16:54.806 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:16:54.811 +07:00 [INF] No unread customer messages found.
2025-05-11 20:16:54.817 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:16:54.834 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:16:54.851 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:16:54.855 +07:00 [INF] Executed ViewResult - view Index executed in 38.1599ms.
2025-05-11 20:16:54.857 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 144.5669ms
2025-05-11 20:16:54.860 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:16:54.863 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 171.6425 ms
2025-05-11 20:16:54.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 184.517ms
2025-05-11 20:16:54.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:16:54.876 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:16:54.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.3373ms
2025-05-11 20:16:54.882 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.7987ms
2025-05-11 20:16:54.931 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:16:54.935 +07:00 [INF] CORS policy execution failed.
2025-05-11 20:16:54.935 +07:00 [INF] Request origin https://localhost:5134 does not have permission to access the resource.
2025-05-11 20:16:54.938 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:16:54.952 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:16:54.954 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 18.9967 ms
2025-05-11 20:16:54.958 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 26.5356ms
2025-05-11 20:16:54.960 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=FTdVcbWhRJXI5L9wEE6vKQ - null null
2025-05-11 20:16:54.963 +07:00 [INF] CORS policy execution failed.
2025-05-11 20:16:54.963 +07:00 [INF] Request origin https://localhost:5134 does not have permission to access the resource.
2025-05-11 20:16:54.966 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:16:55.000 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:16:55.008 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:18:43.412 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:18:43.544 +07:00 [INF] Now listening on: http://localhost:5134
2025-05-11 20:18:43.547 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:18:43.548 +07:00 [INF] Hosting environment: Development
2025-05-11 20:18:43.548 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:18:55.503 +07:00 [INF] Application is shutting down...
2025-05-11 20:22:48.106 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:22:48.445 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:22:48.468 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:22:48.471 +07:00 [INF] Hosting environment: Development
2025-05-11 20:22:48.472 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:22:48.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:22:49.193 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:22:49.206 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:22:50.049 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:22:50.109 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:22:50.225 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:22:50.266 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:22:50.355 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:22:50.452 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:22:50.460 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:22:50.500 +07:00 [INF] Executed ViewResult - view Index executed in 144.9267ms.
2025-05-11 20:22:50.510 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1296.886ms
2025-05-11 20:22:50.513 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:22:50.518 +07:00 [INF] HTTP GET / responded 200 in 1450.5942 ms
2025-05-11 20:22:50.521 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:22:50.521 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:22:50.522 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:22:50.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 17.2016ms
2025-05-11 20:22:50.541 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 5.2336 ms
2025-05-11 20:22:50.540 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1554.0449ms
2025-05-11 20:22:50.548 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 27.8854ms
2025-05-11 20:22:50.558 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:22:50.564 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7443ms
2025-05-11 20:22:54.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/CustomerChat - null null
2025-05-11 20:22:54.063 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:22:54.075 +07:00 [INF] Route matched with {action = "Index", controller = "CustomerChat", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.CustomerChatController (DoAnLTW).
2025-05-11 20:22:54.083 +07:00 [INF] Customer accessing chat interface.
2025-05-11 20:22:54.202 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-11 20:22:54.267 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:22:54.320 +07:00 [INF] Found employee: ID=9214c411-29f4-4eb8-a81c-65054d21675e, Name=employee@gmail.com
2025-05-11 20:22:54.324 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:22:54.349 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:22:54.357 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:22:54.367 +07:00 [INF] Executed ViewResult - view Index executed in 44.0962ms.
2025-05-11 20:22:54.371 +07:00 [INF] Executed action DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW) in 290.7296ms
2025-05-11 20:22:54.373 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:22:54.374 +07:00 [INF] HTTP GET /CustomerChat responded 200 in 347.4027 ms
2025-05-11 20:22:54.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/CustomerChat - 200 null text/html; charset=utf-8 363.2098ms
2025-05-11 20:22:54.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:22:54.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:22:54.413 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:22:54.417 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 1.1853 ms
2025-05-11 20:22:54.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.3656ms
2025-05-11 20:22:54.418 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:22:54.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 15.8976ms
2025-05-11 20:22:54.436 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:22:54.438 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:22:54.438 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.5105ms
2025-05-11 20:22:54.442 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:22:54.457 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:22:54.460 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 25.2903 ms
2025-05-11 20:22:54.464 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 45.6503ms
2025-05-11 20:22:54.467 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=4El9CPEOGz8dZWyiV838nQ - null null
2025-05-11 20:22:54.476 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:22:54.481 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:22:54.677 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:22:54.702 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:22:54.753 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:22:57.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/.well-known/appspecific/com.chrome.devtools.json - null null
2025-05-11 20:22:57.111 +07:00 [INF] HTTP GET /.well-known/appspecific/com.chrome.devtools.json responded 404 in 1.9231 ms
2025-05-11 20:22:57.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 13.1712ms
2025-05-11 20:22:57.125 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-05-11 20:23:05.598 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:23:05.605 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:23:05.820 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([Content], [IsRead], [ReceiverId], [SenderId], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-11 20:23:19.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:23:19.274 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:23:19.276 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:23:19.285 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:23:19.296 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:23:19.326 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:23:19.366 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:23:19.411 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:23:19.423 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:23:19.456 +07:00 [INF] Executed ViewResult - view Index executed in 91.2237ms.
2025-05-11 20:23:19.460 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 178.8468ms
2025-05-11 20:23:19.462 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:23:19.464 +07:00 [INF] HTTP GET / responded 200 in 191.6603 ms
2025-05-11 20:23:19.467 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 208.5714ms
2025-05-11 20:23:19.478 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css - null null
2025-05-11 20:23:19.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css - null null
2025-05-11 20:23:19.482 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/css/style.css - null null
2025-05-11 20:23:19.617 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider1.jpg - null null
2025-05-11 20:23:19.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg - null null
2025-05-11 20:23:19.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg - null null
2025-05-11 20:23:20.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg - null null
2025-05-11 20:23:19.556 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:23:19.618 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider2.jpg - null null
2025-05-11 20:23:19.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider3.jpg - null null
2025-05-11 20:23:19.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/giamgia1.jpg - null null
2025-05-11 20:23:19.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/giamgia2.jpg - null null
2025-05-11 20:23:19.783 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg - null null
2025-05-11 20:23:19.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg - null null
2025-05-11 20:23:19.979 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\css\vendor.bundle.base.css'
2025-05-11 20:23:19.859 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg - null null
2025-05-11 20:23:19.886 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg - null null
2025-05-11 20:23:19.940 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg - null null
2025-05-11 20:23:19.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg - null null
2025-05-11 20:23:20.037 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg - null null
2025-05-11 20:23:20.038 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg - null null
2025-05-11 20:23:20.046 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg - null null
2025-05-11 20:23:20.081 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg - null null
2025-05-11 20:23:20.118 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg - null null
2025-05-11 20:23:20.118 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg - null null
2025-05-11 20:23:20.125 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg - null null
2025-05-11 20:23:19.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg - null null
2025-05-11 20:23:20.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:23:20.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 605.4306ms
2025-05-11 20:23:20.218 +07:00 [INF] Sending file. Request path: '/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\3fee581e-1506-4ae5-8503-06cbab130d12.jpg'
2025-05-11 20:23:20.163 +07:00 [INF] Sending file. Request path: '/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\857b0254-999d-4823-b856-fb74e7d09b0f.jpg'
2025-05-11 20:23:20.214 +07:00 [INF] Sending file. Request path: '/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg'
2025-05-11 20:23:20.221 +07:00 [INF] Sending file. Request path: '/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\3345ee56-9133-4e14-a6a3-06560acd6403.jpg'
2025-05-11 20:23:20.166 +07:00 [INF] Sending file. Request path: '/img/slider3.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider3.jpg'
2025-05-11 20:23:20.165 +07:00 [INF] Sending file. Request path: '/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg'
2025-05-11 20:23:20.170 +07:00 [INF] Sending file. Request path: '/img/slider1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider1.jpg'
2025-05-11 20:23:20.173 +07:00 [INF] Sending file. Request path: '/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\89668607-d553-4501-8eed-ac8772806da6.jpg'
2025-05-11 20:23:20.176 +07:00 [INF] Sending file. Request path: '/img/slider2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider2.jpg'
2025-05-11 20:23:20.176 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/css/vendor.bundle.base.css responded 200 in 690.8700 ms
2025-05-11 20:23:20.182 +07:00 [INF] Sending file. Request path: '/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\f37e33fb-809a-4240-990d-9344cdc138e1.jpg'
2025-05-11 20:23:20.184 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\mdi\css\materialdesignicons.min.css'
2025-05-11 20:23:20.186 +07:00 [INF] Sending file. Request path: '/img/giamgia1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\giamgia1.jpg'
2025-05-11 20:23:20.190 +07:00 [INF] Sending file. Request path: '/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg'
2025-05-11 20:23:20.194 +07:00 [INF] Sending file. Request path: '/img/giamgia2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\giamgia2.jpg'
2025-05-11 20:23:20.199 +07:00 [INF] Sending file. Request path: '/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg'
2025-05-11 20:23:20.202 +07:00 [INF] Sending file. Request path: '/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg'
2025-05-11 20:23:20.205 +07:00 [INF] Sending file. Request path: '/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\69001358-13af-48c1-9cf0-26056c765bdb.jpg'
2025-05-11 20:23:20.210 +07:00 [INF] Sending file. Request path: '/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg'
2025-05-11 20:23:20.226 +07:00 [INF] Sending file. Request path: '/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg'
2025-05-11 20:23:20.230 +07:00 [INF] Sending file. Request path: '/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\bfc876ad-6aac-45e0-8b18-42473db4e447.jpg'
2025-05-11 20:23:20.230 +07:00 [INF] HTTP GET /img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg responded 200 in 26.0570 ms
2025-05-11 20:23:20.231 +07:00 [INF] HTTP GET /img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg responded 200 in 87.3854 ms
2025-05-11 20:23:20.233 +07:00 [INF] HTTP GET /img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg responded 200 in 40.6889 ms
2025-05-11 20:23:20.234 +07:00 [INF] HTTP GET /img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg responded 200 in 34.0860 ms
2025-05-11 20:23:20.236 +07:00 [INF] HTTP GET /img/slider3.jpg responded 200 in 77.9664 ms
2025-05-11 20:23:20.238 +07:00 [INF] HTTP GET /img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg responded 200 in 108.6860 ms
2025-05-11 20:23:20.240 +07:00 [INF] HTTP GET /img/slider1.jpg responded 200 in 161.6300 ms
2025-05-11 20:23:20.242 +07:00 [INF] HTTP GET /img/products/89668607-d553-4501-8eed-ac8772806da6.jpg responded 200 in 117.4235 ms
2025-05-11 20:23:20.244 +07:00 [INF] HTTP GET /img/slider2.jpg responded 200 in 88.0326 ms
2025-05-11 20:23:20.247 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css - 200 2714 text/css 766.1542ms
2025-05-11 20:23:20.249 +07:00 [INF] HTTP GET /img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg responded 200 in 69.9884 ms
2025-05-11 20:23:20.251 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css responded 200 in 768.4106 ms
2025-05-11 20:23:20.254 +07:00 [INF] HTTP GET /img/giamgia1.jpg responded 200 in 89.3254 ms
2025-05-11 20:23:20.255 +07:00 [INF] HTTP GET /img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg responded 200 in 83.5651 ms
2025-05-11 20:23:20.257 +07:00 [INF] HTTP GET /img/giamgia2.jpg responded 200 in 88.6265 ms
2025-05-11 20:23:20.259 +07:00 [INF] HTTP GET /img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg responded 200 in 70.9221 ms
2025-05-11 20:23:20.261 +07:00 [INF] HTTP GET /img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg responded 200 in 86.2200 ms
2025-05-11 20:23:20.263 +07:00 [INF] HTTP GET /img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg responded 200 in 80.4888 ms
2025-05-11 20:23:20.265 +07:00 [INF] HTTP GET /img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg responded 200 in 80.0619 ms
2025-05-11 20:23:20.267 +07:00 [INF] HTTP GET /img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg responded 200 in 70.2183 ms
2025-05-11 20:23:20.269 +07:00 [INF] HTTP GET /img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg responded 200 in 56.8467 ms
2025-05-11 20:23:20.272 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg - 200 64362 image/jpeg 192.6047ms
2025-05-11 20:23:20.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg - 200 32206 image/jpeg 143.9794ms
2025-05-11 20:23:20.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg - 200 94329 image/jpeg 267.4746ms
2025-05-11 20:23:20.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg - 200 95192 image/jpeg 234.3084ms
2025-05-11 20:23:20.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider3.jpg - 200 56205 image/jpeg 652.8322ms
2025-05-11 20:23:20.286 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg - 200 59840 image/jpeg 363.2101ms
2025-05-11 20:23:20.288 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider1.jpg - 200 93525 image/jpeg 672.0662ms
2025-05-11 20:23:20.291 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg - 200 93324 image/jpeg 369.1203ms
2025-05-11 20:23:20.294 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider2.jpg - 200 96466 image/jpeg 676.0224ms
2025-05-11 20:23:20.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg - 200 27785 image/jpeg 442.1447ms
2025-05-11 20:23:20.301 +07:00 [INF] Sending file. Request path: '/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\331246df-2e4d-4049-805a-a554185766d1.jpg'
2025-05-11 20:23:20.378 +07:00 [INF] HTTP GET /img/products/331246df-2e4d-4049-805a-a554185766d1.jpg responded 200 in 162.0637 ms
2025-05-11 20:23:20.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg - 200 62701 image/jpeg 254.5144ms
2025-05-11 20:23:20.309 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg - 200 71723 image/jpeg 569.6955ms
2025-05-11 20:23:20.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/giamgia2.jpg - 200 105235 image/jpeg 584.8099ms
2025-05-11 20:23:20.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg - 200 47386 image/jpeg 339.9949ms
2025-05-11 20:23:20.316 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg - 200 125093 image/jpeg 518.9584ms
2025-05-11 20:23:20.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg - 200 93941 image/jpeg 433.938ms
2025-05-11 20:23:20.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg - 200 98323 image/jpeg 395.0535ms
2025-05-11 20:23:20.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg - 200 115497 image/jpeg 287.3856ms
2025-05-11 20:23:20.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg - 200 62298 image/jpeg 210.1037ms
2025-05-11 20:23:20.334 +07:00 [INF] Sending file. Request path: '/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\7eb073ea-ed48-4420-9379-d183c6d54941.jpg'
2025-05-11 20:23:20.415 +07:00 [INF] HTTP GET /img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg responded 200 in 194.8901 ms
2025-05-11 20:23:20.345 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/css/style.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\css\style.css'
2025-05-11 20:23:20.419 +07:00 [INF] HTTP GET /LayoutAdmin/assets/css/style.css responded 200 in 692.9452 ms
2025-05-11 20:23:20.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/css/style.css - 200 433360 text/css 938.2642ms
2025-05-11 20:23:20.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/giamgia1.jpg - 200 89671 image/jpeg 608.8049ms
2025-05-11 20:23:20.339 +07:00 [INF] Sending file. Request path: '/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\a7c410d5-8508-4474-81ac-c7293536acbf.jpg'
2025-05-11 20:23:20.429 +07:00 [INF] HTTP GET /img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg responded 200 in 220.3969 ms
2025-05-11 20:23:20.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 200.0558ms
2025-05-11 20:23:20.304 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css - 200 163363 text/css 826.0871ms
2025-05-11 20:23:20.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg - 200 46383 image/jpeg 494.9587ms
2025-05-11 20:23:20.432 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg - 200 111678 image/jpeg 314.0532ms
2025-05-11 20:23:20.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png - null null
2025-05-11 20:23:20.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png - null null
2025-05-11 20:23:20.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg - null null
2025-05-11 20:23:20.497 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg - null null
2025-05-11 20:23:20.497 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg - null null
2025-05-11 20:23:20.497 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg - null null
2025-05-11 20:23:20.502 +07:00 [INF] Sending file. Request path: '/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\ba18ca54-a7d7-4f23-b6f3-593389f14504.png'
2025-05-11 20:23:20.504 +07:00 [INF] Sending file. Request path: '/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\cceb76da-6282-4de4-9cd6-954bfaa9a287.png'
2025-05-11 20:23:20.506 +07:00 [INF] Sending file. Request path: '/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg'
2025-05-11 20:23:20.509 +07:00 [INF] Sending file. Request path: '/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\0409374e-ef4c-4670-87f2-6c692feb0542.jpg'
2025-05-11 20:23:20.513 +07:00 [INF] Sending file. Request path: '/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg'
2025-05-11 20:23:20.515 +07:00 [INF] HTTP GET /img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png responded 200 in 15.3198 ms
2025-05-11 20:23:20.515 +07:00 [INF] Sending file. Request path: '/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg'
2025-05-11 20:23:20.517 +07:00 [INF] HTTP GET /img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png responded 200 in 13.5120 ms
2025-05-11 20:23:20.519 +07:00 [INF] HTTP GET /img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg responded 200 in 13.1928 ms
2025-05-11 20:23:20.521 +07:00 [INF] HTTP GET /img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg responded 200 in 13.1186 ms
2025-05-11 20:23:20.523 +07:00 [INF] HTTP GET /img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg responded 200 in 11.1890 ms
2025-05-11 20:23:20.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png - 200 120881 image/png 29.4288ms
2025-05-11 20:23:20.528 +07:00 [INF] HTTP GET /img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg responded 200 in 13.8951 ms
2025-05-11 20:23:20.531 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png - 200 111311 image/png 34.1844ms
2025-05-11 20:23:20.534 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg - 200 3765 image/jpeg 37.0934ms
2025-05-11 20:23:20.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg - 200 7292 image/jpeg 39.6216ms
2025-05-11 20:23:20.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg - 200 10528 image/jpeg 42.4348ms
2025-05-11 20:23:20.546 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg - 200 10190 image/jpeg 49.7777ms
2025-05-11 20:23:23.012 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:23:23.019 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:23:23.027 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:23:23.036 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:23:23.161 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:23:23.167 +07:00 [INF] Found 1 customer requests.
2025-05-11 20:23:23.175 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:23:23.224 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:23:23.232 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:23:23.238 +07:00 [INF] Executed ViewResult - view Index executed in 64.1408ms.
2025-05-11 20:23:23.244 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 212.9885ms
2025-05-11 20:23:23.248 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:23:23.255 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 236.5831 ms
2025-05-11 20:23:23.268 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:23:23.268 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:23:23.269 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 256.914ms
2025-05-11 20:23:23.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 13.0467ms
2025-05-11 20:23:23.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.9981ms
2025-05-11 20:23:23.290 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:23:23.300 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:23:23.302 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:23:23.304 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:23:23.306 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 6.6159 ms
2025-05-11 20:23:23.309 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 18.6112ms
2025-05-11 20:23:23.318 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=D035RTVMgbdxlKRuFzdxtg - null null
2025-05-11 20:23:23.322 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:23:23.324 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:23:23.331 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:23:23.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:25:07.007 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:25:07.331 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:25:07.355 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:25:07.358 +07:00 [INF] Hosting environment: Development
2025-05-11 20:25:07.360 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:25:07.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:25:08.096 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:08.106 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:25:08.954 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:09.023 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:09.142 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:25:09.181 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:25:09.263 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:25:09.371 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:09.384 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:09.477 +07:00 [INF] Executed ViewResult - view Index executed in 215.9786ms.
2025-05-11 20:25:09.481 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1372.6127ms
2025-05-11 20:25:09.484 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:09.488 +07:00 [INF] HTTP GET / responded 200 in 1554.6692 ms
2025-05-11 20:25:09.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1667.8905ms
2025-05-11 20:25:09.528 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:25:09.528 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:09.528 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:25:09.568 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 40.116ms
2025-05-11 20:25:09.577 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 44.9477 ms
2025-05-11 20:25:09.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 62.0762ms
2025-05-11 20:25:09.599 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:25:09.624 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.1934ms
2025-05-11 20:25:18.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:25:18.996 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:19.000 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:25:19.011 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:19.019 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:19.043 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:25:19.084 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:25:19.239 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:19.345 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:25:19.369 +07:00 [INF] Executed ViewResult - view Index executed in 284.8839ms.
2025-05-11 20:25:19.374 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 370.5251ms
2025-05-11 20:25:19.377 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:19.379 +07:00 [INF] HTTP GET / responded 200 in 409.9412 ms
2025-05-11 20:25:19.384 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 429.9724ms
2025-05-11 20:25:19.399 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:19.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:25:19.403 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.3798ms
2025-05-11 20:25:19.426 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.4528ms
2025-05-11 20:25:22.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Support - null null
2025-05-11 20:25:22.153 +07:00 [INF] Executing endpoint 'SupportController.Index (DoAnLTW)'
2025-05-11 20:25:22.159 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Support", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller SupportController (DoAnLTW).
2025-05-11 20:25:22.167 +07:00 [INF] Executed action SupportController.Index (DoAnLTW) in 4.269ms
2025-05-11 20:25:22.169 +07:00 [INF] Executed endpoint 'SupportController.Index (DoAnLTW)'
2025-05-11 20:25:22.174 +07:00 [ERR] HTTP GET /Admin/Support responded 500 in 30.5054 ms
System.InvalidOperationException: Unable to resolve service for type 'DoAnLTW.Services.IChatService' while attempting to activate 'SupportController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method579(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-05-11 20:25:22.215 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'DoAnLTW.Services.IChatService' while attempting to activate 'SupportController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method579(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-11 20:25:22.250 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Support - 500 null text/html; charset=utf-8 115.7919ms
2025-05-11 20:25:22.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:25:22.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:22.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 21.1048ms
2025-05-11 20:25:22.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.6981ms
2025-05-11 20:25:22.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/favicon.ico - null null
2025-05-11 20:25:22.327 +07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\favicon.ico'
2025-05-11 20:25:22.329 +07:00 [INF] HTTP GET /favicon.ico responded 200 in 17.5619 ms
2025-05-11 20:25:22.331 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/favicon.ico - 200 5430 image/x-icon 23.2624ms
2025-05-11 20:25:23.369 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:25:23.379 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:23.382 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:25:23.494 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:23.500 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:23.504 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:25:23.537 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:25:23.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:23.551 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:25:23.561 +07:00 [INF] Executed ViewResult - view Index executed in 23.7293ms.
2025-05-11 20:25:23.562 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 176.9895ms
2025-05-11 20:25:23.563 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:23.566 +07:00 [INF] HTTP GET / responded 200 in 187.9316 ms
2025-05-11 20:25:23.568 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 198.7545ms
2025-05-11 20:25:23.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:23.620 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.984ms
2025-05-11 20:25:24.374 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:25:24.384 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:25:24.389 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:25:24.396 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:25:24.498 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:25:24.503 +07:00 [INF] Found 1 customer requests.
2025-05-11 20:25:24.511 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:25:24.542 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:24.549 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:25:24.554 +07:00 [INF] Executed ViewResult - view Index executed in 43.6718ms.
2025-05-11 20:25:24.556 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 164.5831ms
2025-05-11 20:25:24.557 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:25:24.558 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 176.7052 ms
2025-05-11 20:25:24.576 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:25:24.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:24.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 208.7405ms
2025-05-11 20:25:24.600 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:25:24.604 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.7875ms
2025-05-11 20:25:24.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 25.5978ms
2025-05-11 20:25:24.613 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:25:24.625 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:25:24.636 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:25:24.639 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 26.8434 ms
2025-05-11 20:25:24.641 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 40.8156ms
2025-05-11 20:25:24.646 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=Uejro4EDPiAzUNh_ww-SHQ - null null
2025-05-11 20:25:24.652 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:25:24.653 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:25:24.693 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:24.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:25:24.735 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:25:25.433 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:25:25.470 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__otherUserId_0='?' (Size = 4000), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__otherUserId_0 AND [m].[ReceiverId] = @__userId_1 AND [m].[IsRead] = CAST(0 AS bit)
2025-05-11 20:25:25.613 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Messages] SET [IsRead] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-05-11 20:25:27.630 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:27.635 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:27.705 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([Content], [IsRead], [ReceiverId], [SenderId], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-11 20:25:36.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Chat - null null
2025-05-11 20:25:36.928 +07:00 [INF] HTTP GET /Chat responded 404 in 1.0549 ms
2025-05-11 20:25:36.931 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Chat - 404 0 null 9.2962ms
2025-05-11 20:25:36.935 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Chat, Response status code: 404
2025-05-11 20:25:38.072 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:25:38.081 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:38.084 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:25:38.090 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:38.097 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:38.102 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:25:38.118 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:25:38.125 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:38.131 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:38.137 +07:00 [INF] Executed ViewResult - view Index executed in 18.753ms.
2025-05-11 20:25:38.139 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 50.2122ms
2025-05-11 20:25:38.141 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:25:38.143 +07:00 [INF] HTTP GET / responded 200 in 63.2254 ms
2025-05-11 20:25:38.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 74.7765ms
2025-05-11 20:25:38.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:38.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.7224ms
2025-05-11 20:25:39.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/CustomerChat - null null
2025-05-11 20:25:39.680 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:25:39.687 +07:00 [INF] Route matched with {action = "Index", controller = "CustomerChat", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.CustomerChatController (DoAnLTW).
2025-05-11 20:25:39.694 +07:00 [INF] Customer accessing chat interface.
2025-05-11 20:25:39.717 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-11 20:25:39.756 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:25:39.767 +07:00 [INF] Found employee: ID=9214c411-29f4-4eb8-a81c-65054d21675e, Name=employee@gmail.com
2025-05-11 20:25:39.770 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:25:39.805 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:25:39.814 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:25:39.828 +07:00 [INF] Executed ViewResult - view Index executed in 58.6137ms.
2025-05-11 20:25:39.832 +07:00 [INF] Executed action DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW) in 140.7866ms
2025-05-11 20:25:39.835 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:25:39.839 +07:00 [INF] HTTP GET /CustomerChat responded 200 in 160.3647 ms
2025-05-11 20:25:39.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/CustomerChat - 200 null text/html; charset=utf-8 190.6221ms
2025-05-11 20:25:39.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:25:39.867 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:25:39.869 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:25:39.872 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 1.8179 ms
2025-05-11 20:25:39.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.6858ms
2025-05-11 20:25:39.874 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:25:39.883 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 17.1906ms
2025-05-11 20:25:39.886 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.0712ms
2025-05-11 20:25:39.892 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:25:39.897 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:25:39.904 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:25:39.908 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:25:39.909 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 17.2792 ms
2025-05-11 20:25:39.911 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 37.364ms
2025-05-11 20:25:39.914 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=DFn6_ZALvA9AvpibWl6CGg - null null
2025-05-11 20:25:39.919 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:25:39.921 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:25:39.928 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:25:39.933 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:25:39.939 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:28:45.806 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:28:46.233 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:28:46.259 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:28:46.261 +07:00 [INF] Hosting environment: Development
2025-05-11 20:28:46.262 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:28:46.733 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:28:46.964 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:28:46.976 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:28:47.904 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:28:47.968 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:28:48.068 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:28:48.106 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:28:48.185 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:28:48.307 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:28:48.315 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:28:48.355 +07:00 [INF] Executed ViewResult - view Index executed in 170.5925ms.
2025-05-11 20:28:48.363 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1382.6938ms
2025-05-11 20:28:48.365 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:28:48.370 +07:00 [INF] HTTP GET / responded 200 in 1556.6008 ms
2025-05-11 20:28:48.376 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:28:48.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:28:48.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:28:48.413 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1655.5626ms
2025-05-11 20:28:48.416 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 40.057ms
2025-05-11 20:28:48.446 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 33.0837 ms
2025-05-11 20:28:48.494 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 116.5225ms
2025-05-11 20:28:48.500 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:28:48.512 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.3236ms
2025-05-11 20:28:50.618 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/CustomerChat - null null
2025-05-11 20:28:50.650 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:28:50.655 +07:00 [INF] Route matched with {action = "Index", controller = "CustomerChat", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.CustomerChatController (DoAnLTW).
2025-05-11 20:28:50.660 +07:00 [INF] Customer accessing chat interface.
2025-05-11 20:28:50.722 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-11 20:28:50.756 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:28:50.792 +07:00 [INF] Found employee: ID=9214c411-29f4-4eb8-a81c-65054d21675e, Name=employee@gmail.com
2025-05-11 20:28:50.795 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:28:50.810 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:28:50.816 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:28:50.823 +07:00 [INF] Executed ViewResult - view Index executed in 28.1798ms.
2025-05-11 20:28:50.827 +07:00 [INF] Executed action DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW) in 169.0062ms
2025-05-11 20:28:50.830 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:28:50.832 +07:00 [INF] HTTP GET /CustomerChat responded 200 in 204.2097 ms
2025-05-11 20:28:50.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/CustomerChat - 200 null text/html; charset=utf-8 217.4694ms
2025-05-11 20:28:50.858 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:28:50.859 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:28:50.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:28:50.864 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 1.7096 ms
2025-05-11 20:28:50.867 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.1533ms
2025-05-11 20:28:50.867 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:28:50.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 14.1877ms
2025-05-11 20:28:50.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.8496ms
2025-05-11 20:28:50.883 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:28:50.884 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:28:50.892 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:28:50.899 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:28:50.901 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 20.3128 ms
2025-05-11 20:28:50.904 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 36.9329ms
2025-05-11 20:28:50.907 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=yJ_aBuK1vZVkpyCUgxiOgg - null null
2025-05-11 20:28:50.912 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:28:50.914 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:28:50.999 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:28:51.021 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:28:51.057 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:29:01.514 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:29:01.526 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:29:01.710 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([Content], [IsRead], [ReceiverId], [SenderId], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-11 20:30:51.332 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:30:51.657 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:30:51.682 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:30:51.684 +07:00 [INF] Hosting environment: Development
2025-05-11 20:30:51.685 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:30:52.028 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:30:52.278 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:30:52.291 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:30:53.151 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:30:53.215 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:30:53.323 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:30:53.362 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:30:53.463 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:30:53.588 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:30:53.601 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:30:53.650 +07:00 [INF] Executed ViewResult - view Index executed in 188.5839ms.
2025-05-11 20:30:53.656 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1359.9065ms
2025-05-11 20:30:53.659 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:30:53.664 +07:00 [INF] HTTP GET / responded 200 in 1544.2931 ms
2025-05-11 20:30:53.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:30:53.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:30:53.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:30:53.675 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1652.7112ms
2025-05-11 20:30:53.751 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 73.0245 ms
2025-05-11 20:30:53.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 92.7279ms
2025-05-11 20:30:53.770 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 96.2651ms
2025-05-11 20:30:53.779 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:30:53.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.7519ms
2025-05-11 20:30:55.637 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/CustomerChat - null null
2025-05-11 20:30:55.660 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:30:55.668 +07:00 [INF] Route matched with {action = "Index", controller = "CustomerChat", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.CustomerChatController (DoAnLTW).
2025-05-11 20:30:55.673 +07:00 [INF] Customer accessing chat interface.
2025-05-11 20:30:55.736 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-11 20:30:55.776 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:30:55.807 +07:00 [INF] Found employee: ID=9214c411-29f4-4eb8-a81c-65054d21675e, Name=employee@gmail.com
2025-05-11 20:30:55.810 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:30:55.828 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:30:55.834 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:30:55.842 +07:00 [INF] Executed ViewResult - view Index executed in 32.9927ms.
2025-05-11 20:30:55.846 +07:00 [INF] Executed action DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW) in 174.1288ms
2025-05-11 20:30:55.851 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:30:55.853 +07:00 [INF] HTTP GET /CustomerChat responded 200 in 209.6352 ms
2025-05-11 20:30:55.856 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/CustomerChat - 200 null text/html; charset=utf-8 219.4438ms
2025-05-11 20:30:55.878 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:30:55.879 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:30:55.880 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:30:55.883 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.9177 ms
2025-05-11 20:30:55.884 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:30:55.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.3687ms
2025-05-11 20:30:55.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 12.49ms
2025-05-11 20:30:55.895 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:30:55.899 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.211ms
2025-05-11 20:30:55.901 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:30:55.905 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:30:55.916 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:30:55.918 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 24.2058 ms
2025-05-11 20:30:55.921 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 36.3799ms
2025-05-11 20:30:55.924 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=-qJRuPItWDLrVefkoxx0uQ - null null
2025-05-11 20:30:55.929 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:30:55.931 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:30:56.003 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:30:56.019 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:30:56.049 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:31:03.304 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:31:03.315 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:03.318 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:31:03.328 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:31:03.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:31:03.361 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:31:03.410 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:03.460 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:03.494 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:03.520 +07:00 [INF] Executed ViewResult - view Index executed in 110.4904ms.
2025-05-11 20:31:03.528 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 204.8531ms
2025-05-11 20:31:03.531 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:03.534 +07:00 [INF] HTTP GET / responded 200 in 221.1816 ms
2025-05-11 20:31:03.538 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 234.1598ms
2025-05-11 20:31:03.549 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css - null null
2025-05-11 20:31:03.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/giamgia1.jpg - null null
2025-05-11 20:31:03.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/css/style.css - null null
2025-05-11 20:31:03.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider3.jpg - null null
2025-05-11 20:31:03.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider2.jpg - null null
2025-05-11 20:31:03.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/slider1.jpg - null null
2025-05-11 20:31:03.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css - null null
2025-05-11 20:31:03.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/giamgia2.jpg - null null
2025-05-11 20:31:03.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg - null null
2025-05-11 20:31:03.930 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\css\vendor.bundle.base.css'
2025-05-11 20:31:03.932 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/css/vendor.bundle.base.css responded 200 in 10.5884 ms
2025-05-11 20:31:03.935 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/css/vendor.bundle.base.css - 200 2714 text/css 384.5859ms
2025-05-11 20:31:03.742 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg - null null
2025-05-11 20:31:03.943 +07:00 [INF] Sending file. Request path: '/img/slider3.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider3.jpg'
2025-05-11 20:31:03.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg - null null
2025-05-11 20:31:03.830 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg - null null
2025-05-11 20:31:03.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg - null null
2025-05-11 20:31:03.902 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg - null null
2025-05-11 20:31:03.902 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg - null null
2025-05-11 20:31:03.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg - null null
2025-05-11 20:31:03.914 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg - null null
2025-05-11 20:31:03.918 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:03.944 +07:00 [INF] HTTP GET /img/slider3.jpg responded 200 in 40.7743 ms
2025-05-11 20:31:03.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg - null null
2025-05-11 20:31:03.925 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:03.945 +07:00 [INF] Sending file. Request path: '/img/slider1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider1.jpg'
2025-05-11 20:31:03.994 +07:00 [INF] HTTP GET /img/slider1.jpg responded 200 in 76.8174 ms
2025-05-11 20:31:04.005 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider1.jpg - 200 93525 image/jpeg 453.8914ms
2025-05-11 20:31:03.970 +07:00 [INF] Sending file. Request path: '/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg'
2025-05-11 20:31:04.014 +07:00 [INF] HTTP GET /img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg responded 200 in 68.1824 ms
2025-05-11 20:31:04.016 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/1d193407-aba9-4e91-baa0-2ff2d21ab364.jpg - 200 59840 image/jpeg 226.9834ms
2025-05-11 20:31:03.982 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 64.1134ms
2025-05-11 20:31:03.984 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider3.jpg - 200 56205 image/jpeg 433.3593ms
2025-05-11 20:31:03.988 +07:00 [INF] Sending file. Request path: '/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\857b0254-999d-4823-b856-fb74e7d09b0f.jpg'
2025-05-11 20:31:03.995 +07:00 [INF] Sending file. Request path: '/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\bfc876ad-6aac-45e0-8b18-42473db4e447.jpg'
2025-05-11 20:31:03.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg - null null
2025-05-11 20:31:03.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg - null null
2025-05-11 20:31:03.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg - null null
2025-05-11 20:31:03.944 +07:00 [INF] Sending file. Request path: '/img/giamgia1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\giamgia1.jpg'
2025-05-11 20:31:03.752 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg - null null
2025-05-11 20:31:03.947 +07:00 [INF] Sending file. Request path: '/img/slider2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\slider2.jpg'
2025-05-11 20:31:04.085 +07:00 [INF] HTTP GET /img/slider2.jpg responded 200 in 172.3760 ms
2025-05-11 20:31:04.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/slider2.jpg - 200 96466 image/jpeg 553.3418ms
2025-05-11 20:31:03.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg - null null
2025-05-11 20:31:03.886 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg - null null
2025-05-11 20:31:03.961 +07:00 [INF] Sending file. Request path: '/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg'
2025-05-11 20:31:04.130 +07:00 [INF] Sending file. Request path: '/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg'
2025-05-11 20:31:04.145 +07:00 [INF] HTTP GET /img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg responded 200 in 216.0740 ms
2025-05-11 20:31:04.013 +07:00 [INF] Sending file. Request path: '/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\331246df-2e4d-4049-805a-a554185766d1.jpg'
2025-05-11 20:31:03.975 +07:00 [INF] Sending file. Request path: '/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\89668607-d553-4501-8eed-ac8772806da6.jpg'
2025-05-11 20:31:03.980 +07:00 [INF] Sending file. Request path: '/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg'
2025-05-11 20:31:04.043 +07:00 [INF] Sending file. Request path: '/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\3fee581e-1506-4ae5-8503-06cbab130d12.jpg'
2025-05-11 20:31:04.046 +07:00 [INF] Sending file. Request path: '/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\a7c410d5-8508-4474-81ac-c7293536acbf.jpg'
2025-05-11 20:31:04.051 +07:00 [INF] HTTP GET /img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg responded 200 in 72.3749 ms
2025-05-11 20:31:04.053 +07:00 [INF] HTTP GET /img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg responded 200 in 87.3514 ms
2025-05-11 20:31:04.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.8575ms
2025-05-11 20:31:04.056 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/css/style.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\css\style.css'
2025-05-11 20:31:04.061 +07:00 [INF] Sending file. Request path: '/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg'
2025-05-11 20:31:04.063 +07:00 [INF] Sending file. Request path: '/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\69001358-13af-48c1-9cf0-26056c765bdb.jpg'
2025-05-11 20:31:04.063 +07:00 [INF] HTTP GET /img/giamgia1.jpg responded 200 in 221.0015 ms
2025-05-11 20:31:04.070 +07:00 [INF] Sending file. Request path: '/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\f37e33fb-809a-4240-990d-9344cdc138e1.jpg'
2025-05-11 20:31:03.960 +07:00 [INF] Sending file. Request path: '/img/giamgia2.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\giamgia2.jpg'
2025-05-11 20:31:03.964 +07:00 [INF] Sending file. Request path: '/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\7eb073ea-ed48-4420-9379-d183c6d54941.jpg'
2025-05-11 20:31:03.882 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg - null null
2025-05-11 20:31:04.134 +07:00 [INF] Sending file. Request path: '/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg'
2025-05-11 20:31:03.967 +07:00 [INF] Sending file. Request path: '/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\LayoutAdmin\assets\vendors\mdi\css\materialdesignicons.min.css'
2025-05-11 20:31:04.148 +07:00 [INF] HTTP GET /img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg responded 200 in 78.7848 ms
2025-05-11 20:31:04.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/60d73f54-c3c3-443b-86a9-f2c19ce0d0b7.jpg - 200 125093 image/jpeg 488.685ms
2025-05-11 20:31:04.151 +07:00 [INF] Sending file. Request path: '/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\3345ee56-9133-4e14-a6a3-06560acd6403.jpg'
2025-05-11 20:31:04.153 +07:00 [INF] HTTP GET /img/products/331246df-2e4d-4049-805a-a554185766d1.jpg responded 200 in 179.8639 ms
2025-05-11 20:31:04.155 +07:00 [INF] HTTP GET /img/products/89668607-d553-4501-8eed-ac8772806da6.jpg responded 200 in 212.0801 ms
2025-05-11 20:31:04.158 +07:00 [INF] HTTP GET /img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg responded 200 in 196.7635 ms
2025-05-11 20:31:04.160 +07:00 [INF] HTTP GET /img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg responded 200 in 173.1330 ms
2025-05-11 20:31:04.162 +07:00 [INF] HTTP GET /img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg responded 200 in 193.2103 ms
2025-05-11 20:31:04.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/857b0254-999d-4823-b856-fb74e7d09b0f.jpg - 200 32206 image/jpeg 249.7095ms
2025-05-11 20:31:04.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/bfc876ad-6aac-45e0-8b18-42473db4e447.jpg - 200 62298 image/jpeg 264.8801ms
2025-05-11 20:31:04.175 +07:00 [INF] HTTP GET /LayoutAdmin/assets/css/style.css responded 200 in 278.3922 ms
2025-05-11 20:31:04.177 +07:00 [INF] HTTP GET /img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg responded 200 in 121.5429 ms
2025-05-11 20:31:04.179 +07:00 [INF] HTTP GET /img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg responded 200 in 121.1759 ms
2025-05-11 20:31:04.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/giamgia1.jpg - 200 89671 image/jpeg 631.2143ms
2025-05-11 20:31:04.184 +07:00 [INF] HTTP GET /img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg responded 200 in 122.1251 ms
2025-05-11 20:31:04.186 +07:00 [INF] HTTP GET /img/giamgia2.jpg responded 200 in 261.3626 ms
2025-05-11 20:31:04.188 +07:00 [INF] HTTP GET /img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg responded 200 in 238.7839 ms
2025-05-11 20:31:04.192 +07:00 [INF] HTTP GET /img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg responded 200 in 61.5975 ms
2025-05-11 20:31:04.193 +07:00 [INF] Sending file. Request path: '/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\products\ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg'
2025-05-11 20:31:04.194 +07:00 [INF] HTTP GET /LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css responded 200 in 534.9296 ms
2025-05-11 20:31:04.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/c50d7835-aa10-4ef4-958f-7ee6a778c99c.jpg - 200 98323 image/jpeg 444.6433ms
2025-05-11 20:31:04.205 +07:00 [INF] HTTP GET /img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg responded 200 in 62.2574 ms
2025-05-11 20:31:04.253 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/3345ee56-9133-4e14-a6a3-06560acd6403.jpg - 200 95192 image/jpeg 366.7432ms
2025-05-11 20:31:04.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/89668607-d553-4501-8eed-ac8772806da6.jpg - 200 93324 image/jpeg 470.7902ms
2025-05-11 20:31:04.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/5079937a-5b46-4fa1-82b7-ddb17250c08a.jpg - 200 47386 image/jpeg 385.5259ms
2025-05-11 20:31:04.221 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/3fee581e-1506-4ae5-8503-06cbab130d12.jpg - 200 64362 image/jpeg 320.6315ms
2025-05-11 20:31:04.223 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/a7c410d5-8508-4474-81ac-c7293536acbf.jpg - 200 111678 image/jpeg 321.1018ms
2025-05-11 20:31:04.233 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/css/style.css - 200 433360 text/css 682.1955ms
2025-05-11 20:31:04.235 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/37ba7691-6e2c-49de-b6ca-b3348230ed5b.jpg - 200 71723 image/jpeg 576.1565ms
2025-05-11 20:31:04.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/69001358-13af-48c1-9cf0-26056c765bdb.jpg - 200 93941 image/jpeg 569.0179ms
2025-05-11 20:31:04.241 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/f37e33fb-809a-4240-990d-9344cdc138e1.jpg - 200 27785 image/jpeg 568.0206ms
2025-05-11 20:31:04.243 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/giamgia2.jpg - 200 105235 image/jpeg 640.3091ms
2025-05-11 20:31:04.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/7eb073ea-ed48-4420-9379-d183c6d54941.jpg - 200 46383 image/jpeg 422.8811ms
2025-05-11 20:31:04.245 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/b21035a7-0ca3-49d3-94af-4dc2cff6c2f8.jpg - 200 94329 image/jpeg 402.3279ms
2025-05-11 20:31:04.247 +07:00 [INF] HTTP GET /img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg responded 200 in 55.6890 ms
2025-05-11 20:31:04.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/LayoutAdmin/assets/vendors/mdi/css/materialdesignicons.min.css - 200 163363 text/css 699.5693ms
2025-05-11 20:31:04.209 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/331246df-2e4d-4049-805a-a554185766d1.jpg - 200 62701 image/jpeg 304.3507ms
2025-05-11 20:31:04.290 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/products/ae973fc3-8baa-4514-9fac-b0576c1e4437.jpg - 200 115497 image/jpeg 443.4153ms
2025-05-11 20:31:04.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png - null null
2025-05-11 20:31:04.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png - null null
2025-05-11 20:31:04.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg - null null
2025-05-11 20:31:04.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg - null null
2025-05-11 20:31:04.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg - null null
2025-05-11 20:31:04.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg - null null
2025-05-11 20:31:04.329 +07:00 [INF] Sending file. Request path: '/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\ba18ca54-a7d7-4f23-b6f3-593389f14504.png'
2025-05-11 20:31:04.332 +07:00 [INF] Sending file. Request path: '/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\cceb76da-6282-4de4-9cd6-954bfaa9a287.png'
2025-05-11 20:31:04.333 +07:00 [INF] Sending file. Request path: '/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg'
2025-05-11 20:31:04.336 +07:00 [INF] Sending file. Request path: '/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\0409374e-ef4c-4670-87f2-6c692feb0542.jpg'
2025-05-11 20:31:04.340 +07:00 [INF] Sending file. Request path: '/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg'
2025-05-11 20:31:04.341 +07:00 [INF] Sending file. Request path: '/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg'. Physical path: 'H:\DoAnCoSo\DoAnLTW\wwwroot\img\01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg'
2025-05-11 20:31:04.343 +07:00 [INF] HTTP GET /img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png responded 200 in 15.5105 ms
2025-05-11 20:31:04.345 +07:00 [INF] HTTP GET /img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png responded 200 in 14.6605 ms
2025-05-11 20:31:04.346 +07:00 [INF] HTTP GET /img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg responded 200 in 13.8254 ms
2025-05-11 20:31:04.348 +07:00 [INF] HTTP GET /img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg responded 200 in 12.3613 ms
2025-05-11 20:31:04.349 +07:00 [INF] HTTP GET /img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg responded 200 in 11.0183 ms
2025-05-11 20:31:04.351 +07:00 [INF] HTTP GET /img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg responded 200 in 10.1273 ms
2025-05-11 20:31:04.353 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/ba18ca54-a7d7-4f23-b6f3-593389f14504.png - 200 120881 image/png 29.8374ms
2025-05-11 20:31:04.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/cceb76da-6282-4de4-9cd6-954bfaa9a287.png - 200 111311 image/png 32.0445ms
2025-05-11 20:31:04.358 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/c4627a56-a309-4e02-9629-a9e7b8aff5cb.jpg - 200 3765 image/jpeg 34.2054ms
2025-05-11 20:31:04.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/0409374e-ef4c-4670-87f2-6c692feb0542.jpg - 200 7292 image/jpeg 36.3906ms
2025-05-11 20:31:04.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/d9234015-3d2a-4d1b-86da-cea3a347cdf6.jpg - 200 10528 image/jpeg 38.3832ms
2025-05-11 20:31:04.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/01bd8faa-dd00-4fb5-bb0f-8fa12088f3a6.jpg - 200 10190 image/jpeg 40.8244ms
2025-05-11 20:31:05.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:05.340 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:05.345 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:05.352 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:05.454 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:05.471 +07:00 [INF] Found 1 customer requests.
2025-05-11 20:31:05.488 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:05.524 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:05.535 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:05.541 +07:00 [INF] Executed ViewResult - view Index executed in 54.366ms.
2025-05-11 20:31:05.544 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 195.2478ms
2025-05-11 20:31:05.546 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:05.547 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 208.1058 ms
2025-05-11 20:31:05.549 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 216.6196ms
2025-05-11 20:31:05.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:05.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:05.574 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.56ms
2025-05-11 20:31:05.577 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.0671ms
2025-05-11 20:31:05.593 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:05.598 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:05.603 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:05.605 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:05.607 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 9.1155 ms
2025-05-11 20:31:05.610 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 16.9461ms
2025-05-11 20:31:05.618 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=wlWcljylpCbw6bwnnG3n9w - null null
2025-05-11 20:31:05.623 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:05.624 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:05.635 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:05.644 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:05.671 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:06.801 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:31:06.824 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__otherUserId_0='?' (Size = 4000), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__otherUserId_0 AND [m].[ReceiverId] = @__userId_1 AND [m].[IsRead] = CAST(0 AS bit)
2025-05-11 20:31:06.939 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Messages] SET [IsRead] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-05-11 20:31:11.375 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:11.381 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:11.466 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([Content], [IsRead], [ReceiverId], [SenderId], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-11 20:31:14.307 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:31:14.318 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__otherUserId_0='?' (Size = 4000), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__otherUserId_0 AND [m].[ReceiverId] = @__userId_1 AND [m].[IsRead] = CAST(0 AS bit)
2025-05-11 20:31:15.527 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:31:15.535 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__otherUserId_0='?' (Size = 4000), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__otherUserId_0 AND [m].[ReceiverId] = @__userId_1 AND [m].[IsRead] = CAST(0 AS bit)
2025-05-11 20:31:16.209 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:31:16.218 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__otherUserId_0='?' (Size = 4000), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__otherUserId_0 AND [m].[ReceiverId] = @__userId_1 AND [m].[IsRead] = CAST(0 AS bit)
2025-05-11 20:31:18.646 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:18.657 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:18.660 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:18.663 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:18.679 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:18.686 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:18.689 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:18.697 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:18.706 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:18.715 +07:00 [INF] Executed ViewResult - view Index executed in 26.1475ms.
2025-05-11 20:31:18.718 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 55.1851ms
2025-05-11 20:31:18.720 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:18.722 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 67.5743 ms
2025-05-11 20:31:18.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 78.4689ms
2025-05-11 20:31:18.733 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:18.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:18.737 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:18.734 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:18.745 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 10.9651ms
2025-05-11 20:31:18.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.0062ms
2025-05-11 20:31:18.749 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:18.750 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:18.762 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:18.763 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:18.765 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:18.765 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 15.0797 ms
2025-05-11 20:31:18.770 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 36.4828ms
2025-05-11 20:31:18.773 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:18.774 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 13151.8658 ms
2025-05-11 20:31:18.776 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=229f2Pd_7GaeXrrBs-tSnw - null null
2025-05-11 20:31:18.776 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=wlWcljylpCbw6bwnnG3n9w - 200 null null 13158.0134ms
2025-05-11 20:31:18.779 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:18.784 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:18.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:18.794 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:18.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:20.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:20.978 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:20.980 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:20.984 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:21.002 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:21.012 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:21.014 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:21.022 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:21.032 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:21.039 +07:00 [INF] Executed ViewResult - view Index executed in 24.725ms.
2025-05-11 20:31:21.040 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 56.8191ms
2025-05-11 20:31:21.042 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:21.043 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 67.2056 ms
2025-05-11 20:31:21.047 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 79.0029ms
2025-05-11 20:31:21.049 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:21.054 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:21.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:21.055 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:21.055 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:21.069 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:21.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.7015ms
2025-05-11 20:31:21.071 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:21.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 16.8963ms
2025-05-11 20:31:21.073 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:21.076 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:21.080 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:21.081 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 2302.5602 ms
2025-05-11 20:31:21.084 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 15.0301 ms
2025-05-11 20:31:21.087 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=229f2Pd_7GaeXrrBs-tSnw - 200 null null 2311.2388ms
2025-05-11 20:31:21.090 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 34.6553ms
2025-05-11 20:31:21.093 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=JsPW9g3Iklntnv4JPOrIYQ - null null
2025-05-11 20:31:21.103 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:21.104 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:21.116 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:21.124 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:21.135 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:21.889 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:21.899 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:21.901 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:21.905 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:21.920 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:21.923 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:21.925 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:21.930 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:21.937 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:21.943 +07:00 [INF] Executed ViewResult - view Index executed in 17.9966ms.
2025-05-11 20:31:21.945 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 39.9869ms
2025-05-11 20:31:21.951 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:21.953 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 54.3728 ms
2025-05-11 20:31:21.954 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:21.955 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 66.283ms
2025-05-11 20:31:21.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:21.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:21.963 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:21.962 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:21.967 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.6202ms
2025-05-11 20:31:21.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.6314ms
2025-05-11 20:31:21.973 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:21.974 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:21.984 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:21.987 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:21.989 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:21.990 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 886.9702 ms
2025-05-11 20:31:21.991 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 17.5290 ms
2025-05-11 20:31:21.993 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=JsPW9g3Iklntnv4JPOrIYQ - 200 null null 900.7293ms
2025-05-11 20:31:21.996 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 33.7665ms
2025-05-11 20:31:22.002 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=3pRU7ADzN6vEcut1uqqvZg - null null
2025-05-11 20:31:22.006 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:22.008 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:22.016 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:22.023 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:22.033 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:25.275 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:31:25.280 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:25.281 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:31:25.290 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:31:25.296 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:31:25.320 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:31:25.348 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:25.359 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:25.371 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:25.376 +07:00 [INF] Executed ViewResult - view Index executed in 28.5575ms.
2025-05-11 20:31:25.380 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 96.9682ms
2025-05-11 20:31:25.381 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:25.386 +07:00 [INF] HTTP GET / responded 200 in 106.0715 ms
2025-05-11 20:31:25.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 112.9341ms
2025-05-11 20:31:25.389 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:25.399 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:25.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:25.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:25.408 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:25.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.1256ms
2025-05-11 20:31:25.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5542ms
2025-05-11 20:31:25.414 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:25.419 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 3413.2016 ms
2025-05-11 20:31:25.422 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=3pRU7ADzN6vEcut1uqqvZg - 200 null null 3419.809ms
2025-05-11 20:31:27.478 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:27.485 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:27.487 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:27.490 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:27.504 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:27.508 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:27.510 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:27.515 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:27.531 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:27.540 +07:00 [INF] Executed ViewResult - view Index executed in 30.1942ms.
2025-05-11 20:31:27.542 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 52.0186ms
2025-05-11 20:31:27.544 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:27.547 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 62.8194 ms
2025-05-11 20:31:27.549 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 70.9177ms
2025-05-11 20:31:27.560 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:27.560 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:27.560 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:27.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.0628ms
2025-05-11 20:31:27.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3303ms
2025-05-11 20:31:27.574 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:27.585 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:27.587 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:27.588 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 14.0506 ms
2025-05-11 20:31:27.590 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 29.4896ms
2025-05-11 20:31:27.603 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=64hkBpnNpUvOiRGmDSbP5w - null null
2025-05-11 20:31:27.606 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:27.608 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:27.613 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:27.617 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:27.626 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:29.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:29.375 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:29.377 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:29.381 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:29.395 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:29.402 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:29.403 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:29.410 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:29.419 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:29.425 +07:00 [INF] Executed ViewResult - view Index executed in 21.9767ms.
2025-05-11 20:31:29.432 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 51.13ms
2025-05-11 20:31:29.434 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:29.435 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:29.437 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 62.3177 ms
2025-05-11 20:31:29.439 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:29.440 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 73.2821ms
2025-05-11 20:31:29.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:29.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:29.444 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:29.444 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:29.453 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 8.4491ms
2025-05-11 20:31:29.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.4548ms
2025-05-11 20:31:29.455 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:29.457 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:29.463 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 1856.9003 ms
2025-05-11 20:31:29.464 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:29.465 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=64hkBpnNpUvOiRGmDSbP5w - 200 null null 1862.2178ms
2025-05-11 20:31:29.465 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:29.471 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 14.0208 ms
2025-05-11 20:31:29.474 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 29.2784ms
2025-05-11 20:31:29.483 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=SS8gCxyCx7KJN_bbqsYFvw - null null
2025-05-11 20:31:29.485 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:29.488 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:29.497 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:29.503 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:29.509 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:32.606 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:32.620 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:32.632 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:32.635 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:32.637 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 3153.0228 ms
2025-05-11 20:31:32.641 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=SS8gCxyCx7KJN_bbqsYFvw - 200 null null 3158.0897ms
2025-05-11 20:31:36.457 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:31:36.463 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:36.465 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:31:36.470 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:31:36.475 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:31:36.493 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:31:36.506 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:36.512 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:36.522 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:36.529 +07:00 [INF] Executed ViewResult - view Index executed in 22.9648ms.
2025-05-11 20:31:36.531 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 64.2878ms
2025-05-11 20:31:36.534 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:36.535 +07:00 [INF] HTTP GET / responded 200 in 73.3635 ms
2025-05-11 20:31:36.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 82.2041ms
2025-05-11 20:31:36.561 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:36.562 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:36.565 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.898ms
2025-05-11 20:31:36.577 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.4265ms
2025-05-11 20:31:38.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:38.107 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:38.109 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:38.112 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:38.126 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:38.132 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:38.134 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:38.142 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:38.156 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:38.165 +07:00 [INF] Executed ViewResult - view Index executed in 31.6244ms.
2025-05-11 20:31:38.171 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 58.341ms
2025-05-11 20:31:38.176 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:38.179 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 72.1742 ms
2025-05-11 20:31:38.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 84.3116ms
2025-05-11 20:31:38.196 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:38.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:38.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 8.6399ms
2025-05-11 20:31:38.207 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5985ms
2025-05-11 20:31:38.220 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:38.224 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:38.226 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:38.229 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:38.231 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 7.2938 ms
2025-05-11 20:31:38.234 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 14.2861ms
2025-05-11 20:31:38.247 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=xGljd43PBMAdhRZ3yOlaeg - null null
2025-05-11 20:31:38.251 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:38.253 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:38.262 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:38.271 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:38.279 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:40.273 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:40.280 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:40.282 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:40.286 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:40.300 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:40.306 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:40.307 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:40.312 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:40.320 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:40.325 +07:00 [INF] Executed ViewResult - view Index executed in 17.9489ms.
2025-05-11 20:31:40.327 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 40.5975ms
2025-05-11 20:31:40.329 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:40.332 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 52.1472 ms
2025-05-11 20:31:40.335 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 61.6209ms
2025-05-11 20:31:40.336 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:40.342 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:40.343 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:40.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:40.346 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:40.350 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:40.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.7085ms
2025-05-11 20:31:40.353 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:40.354 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:40.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.8363ms
2025-05-11 20:31:40.359 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:40.360 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 2108.8729 ms
2025-05-11 20:31:40.366 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:40.368 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=xGljd43PBMAdhRZ3yOlaeg - 200 null null 2121.9135ms
2025-05-11 20:31:40.370 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 17.6015 ms
2025-05-11 20:31:40.377 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 31.034ms
2025-05-11 20:31:40.385 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=PIW8IhrFxP901u-RQkGr1g - null null
2025-05-11 20:31:40.388 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:40.389 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:40.394 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:40.402 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:40.412 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:40.897 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:31:40.906 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:40.908 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:31:40.915 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:31:40.922 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:31:40.943 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:31:40.964 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:40.971 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:40.982 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:40.990 +07:00 [INF] Executed ViewResult - view Index executed in 26.3664ms.
2025-05-11 20:31:40.992 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 79.9136ms
2025-05-11 20:31:41.001 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:31:41.001 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:41.004 +07:00 [INF] HTTP GET / responded 200 in 98.3170 ms
2025-05-11 20:31:41.009 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:41.013 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.451ms
2025-05-11 20:31:41.010 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 112.388ms
2025-05-11 20:31:41.009 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:41.026 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:31:41.029 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:31:41.030 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 642.4293 ms
2025-05-11 20:31:41.032 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=PIW8IhrFxP901u-RQkGr1g - 200 null null 646.6005ms
2025-05-11 20:31:42.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:31:42.524 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:42.528 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:31:42.530 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:31:42.545 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:31:42.549 +07:00 [INF] No unread customer messages found.
2025-05-11 20:31:42.551 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:31:42.557 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:42.565 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:42.570 +07:00 [INF] Executed ViewResult - view Index executed in 18.9425ms.
2025-05-11 20:31:42.572 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 41.9902ms
2025-05-11 20:31:42.575 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:31:42.578 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 55.7501 ms
2025-05-11 20:31:42.583 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 67.7128ms
2025-05-11 20:31:42.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:31:42.604 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:31:42.604 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:31:42.608 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.5043ms
2025-05-11 20:31:42.610 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:42.610 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.4631ms
2025-05-11 20:31:42.617 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:31:42.622 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:31:42.624 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 13.7544 ms
2025-05-11 20:31:42.627 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 22.7964ms
2025-05-11 20:31:42.637 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=jBqjIdetDz4Ghx1GxnDzOg - null null
2025-05-11 20:31:42.640 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:31:42.642 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:31:42.650 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:31:42.659 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:31:42.670 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:32:15.474 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:32:15.801 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:32:15.828 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:32:15.839 +07:00 [INF] Hosting environment: Development
2025-05-11 20:32:15.841 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:32:16.164 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:32:16.397 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:16.406 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:32:17.288 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:32:17.295 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:17.339 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:32:17.350 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:32:17.353 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:17.355 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 60.9595 ms
2025-05-11 20:32:17.364 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 76.5032ms
2025-05-11 20:32:17.370 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=kVFSi2rk4AOKUZDHjYwnmg - null null
2025-05-11 20:32:17.374 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:17.387 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:32:17.416 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:17.512 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:17.525 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:32:17.563 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:32:17.599 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:17.620 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:32:17.651 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:17.759 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:17.768 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:17.804 +07:00 [INF] Executed ViewResult - view Index executed in 154.2619ms.
2025-05-11 20:32:17.810 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1397.2175ms
2025-05-11 20:32:17.812 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:17.816 +07:00 [INF] HTTP GET / responded 200 in 1564.6518 ms
2025-05-11 20:32:17.822 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1662.0877ms
2025-05-11 20:32:17.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:17.838 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:17.838 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:32:17.841 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.8734ms
2025-05-11 20:32:17.888 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 42.1049 ms
2025-05-11 20:32:17.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 54.1529ms
2025-05-11 20:32:17.898 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:32:17.903 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.5306ms
2025-05-11 20:32:21.423 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Account/Logout - application/x-www-form-urlencoded 225
2025-05-11 20:32:21.506 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:21.510 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.AccountController.Logout (DoAnLTW)'
2025-05-11 20:32:21.527 +07:00 [INF] Route matched with {action = "Logout", controller = "Account", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller DoAnLTW.Controllers.AccountController (DoAnLTW).
2025-05-11 20:32:21.540 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-05-11 20:32:21.542 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:32:21.545 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-05-11 20:32:21.548 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-05-11 20:32:21.550 +07:00 [INF] Executed action DoAnLTW.Controllers.AccountController.Logout (DoAnLTW) in 16.0973ms
2025-05-11 20:32:21.552 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.AccountController.Logout (DoAnLTW)'
2025-05-11 20:32:21.554 +07:00 [INF] HTTP POST /Account/Logout responded 302 in 48.4774 ms
2025-05-11 20:32:21.557 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Account/Logout - 302 0 null 133.6465ms
2025-05-11 20:32:21.561 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:32:21.571 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:21.574 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:32:21.619 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:21.627 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:21.649 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:32:21.665 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:21.673 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:21.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:21.684 +07:00 [INF] Executed ViewResult - view Index executed in 19.7149ms.
2025-05-11 20:32:21.687 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 110.3061ms
2025-05-11 20:32:21.688 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:21.690 +07:00 [INF] HTTP GET / responded 200 in 119.8202 ms
2025-05-11 20:32:21.693 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 131.8175ms
2025-05-11 20:32:21.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:32:21.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:21.720 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.5072 ms
2025-05-11 20:32:21.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.8371ms
2025-05-11 20:32:21.725 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:21.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 10.3619ms
2025-05-11 20:32:21.740 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:32:21.749 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.4162ms
2025-05-11 20:32:23.084 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:32:23.095 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:32:23.144 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:32:23.173 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:32:23.182 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:32:23.187 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:32:23.193 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:32:23.195 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:32:23.256 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:23.264 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:23.281 +07:00 [INF] Executed page /Account/Login in 133.0568ms
2025-05-11 20:32:23.282 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:32:23.284 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 189.0383 ms
2025-05-11 20:32:23.287 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 202.6951ms
2025-05-11 20:32:23.315 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:32:23.316 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:32:23.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:32:23.320 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 0.5225 ms
2025-05-11 20:32:23.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:32:23.346 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.5147 ms
2025-05-11 20:32:23.343 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 15.0810 ms
2025-05-11 20:32:23.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 32.5117ms
2025-05-11 20:32:23.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:32:23.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:23.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:23.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:32:23.393 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.3678 ms
2025-05-11 20:32:23.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 39.4083ms
2025-05-11 20:32:23.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 49.8236ms
2025-05-11 20:32:23.371 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:32:23.359 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.4600 ms
2025-05-11 20:32:23.378 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.7919 ms
2025-05-11 20:32:23.383 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 60.7382ms
2025-05-11 20:32:23.405 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.5273ms
2025-05-11 20:32:23.406 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 71.4393ms
2025-05-11 20:32:23.428 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:32:23.413 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:32:23.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 95.1192ms
2025-05-11 20:32:23.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 96.1381ms
2025-05-11 20:32:23.409 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:32:23.435 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:32:23.437 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:32:26.335 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 269
2025-05-11 20:32:26.342 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:26.343 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:32:26.345 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:32:26.376 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:32:26.410 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:32:26.565 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:32:26.579 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:26.602 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:32:26.637 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:32:26.649 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:32:26.667 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:32:26.679 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:26.685 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:32:26.694 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:32:26.697 +07:00 [INF] Executed page /Account/Login in 349.6574ms
2025-05-11 20:32:26.699 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:32:26.701 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 359.0288 ms
2025-05-11 20:32:26.704 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 368.8888ms
2025-05-11 20:32:26.708 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:32:26.714 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:26.716 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:32:26.724 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:26.730 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:26.749 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:32:26.774 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:26.812 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:26.830 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:26.856 +07:00 [INF] Executed ViewResult - view Index executed in 82.1597ms.
2025-05-11 20:32:26.859 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 140.1738ms
2025-05-11 20:32:26.861 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:26.866 +07:00 [INF] HTTP GET / responded 200 in 152.3872 ms
2025-05-11 20:32:26.870 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 161.7833ms
2025-05-11 20:32:26.899 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:26.901 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:26.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.4972ms
2025-05-11 20:32:26.914 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.4914ms
2025-05-11 20:32:28.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:32:28.387 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:32:28.392 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:32:28.401 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:32:28.499 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:32:28.503 +07:00 [INF] No unread customer messages found.
2025-05-11 20:32:28.510 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:28.525 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:28.543 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:28.556 +07:00 [INF] Executed ViewResult - view Index executed in 46.8682ms.
2025-05-11 20:32:28.561 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 165.6512ms
2025-05-11 20:32:28.566 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:32:28.570 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 186.9777 ms
2025-05-11 20:32:28.577 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 199.4942ms
2025-05-11 20:32:28.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:28.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:28.602 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.5905ms
2025-05-11 20:32:28.610 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.8802ms
2025-05-11 20:32:28.620 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:32:28.625 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:28.627 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:32:28.630 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:32:28.631 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 6.3493 ms
2025-05-11 20:32:28.633 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 12.9765ms
2025-05-11 20:32:28.644 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=3catOe2UeNIsFwKvC9fNiw - null null
2025-05-11 20:32:28.647 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:28.650 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:32:28.658 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:28.663 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:28.673 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:32:32.792 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:32:32.806 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:32.810 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:32:32.819 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:32.827 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:32.852 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:32:32.872 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:32.881 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:32.892 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:32.898 +07:00 [INF] Executed ViewResult - view Index executed in 26.7935ms.
2025-05-11 20:32:32.901 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 85.4746ms
2025-05-11 20:32:32.903 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:32.907 +07:00 [INF] HTTP GET / responded 200 in 102.2859 ms
2025-05-11 20:32:32.911 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 118.9951ms
2025-05-11 20:32:32.921 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:32.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:32.927 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.5185ms
2025-05-11 20:32:32.927 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:32.940 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:32:32.949 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:32:32.952 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 4305.1643 ms
2025-05-11 20:32:32.956 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=3catOe2UeNIsFwKvC9fNiw - 200 null null 4312.1091ms
2025-05-11 20:32:35.398 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Logout - application/x-www-form-urlencoded 225
2025-05-11 20:32:35.406 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:35.408 +07:00 [INF] Executing endpoint '/Account/Logout'
2025-05-11 20:32:35.416 +07:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2025-05-11 20:32:35.421 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2025-05-11 20:32:35.425 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-05-11 20:32:35.428 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:32:35.431 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-05-11 20:32:35.434 +07:00 [INF] User logged out.
2025-05-11 20:32:35.436 +07:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2025-05-11 20:32:35.441 +07:00 [INF] Executing RedirectToPageResult, redirecting to null.
2025-05-11 20:32:35.444 +07:00 [INF] Executed page /Account/Logout in 23.9478ms
2025-05-11 20:32:35.447 +07:00 [INF] Executed endpoint '/Account/Logout'
2025-05-11 20:32:35.451 +07:00 [INF] HTTP POST /Identity/Account/Logout responded 302 in 45.0000 ms
2025-05-11 20:32:35.455 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Logout - 302 0 null 56.1921ms
2025-05-11 20:32:35.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Logout - null null
2025-05-11 20:32:35.469 +07:00 [INF] Executing endpoint '/Account/Logout'
2025-05-11 20:32:35.472 +07:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2025-05-11 20:32:35.475 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:32:35.477 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:32:35.490 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:35.496 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:35.502 +07:00 [INF] Executed page /Account/Logout in 27.3619ms
2025-05-11 20:32:35.504 +07:00 [INF] Executed endpoint '/Account/Logout'
2025-05-11 20:32:35.505 +07:00 [INF] HTTP GET /Identity/Account/Logout responded 200 in 35.8836 ms
2025-05-11 20:32:35.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Logout - 200 null text/html; charset=utf-8 48.1136ms
2025-05-11 20:32:35.534 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:32:35.535 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:32:35.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:35.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:35.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:32:35.547 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.3274 ms
2025-05-11 20:32:35.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 12.9371ms
2025-05-11 20:32:35.541 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.3411 ms
2025-05-11 20:32:35.561 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 1.5691 ms
2025-05-11 20:32:35.562 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 26.8081ms
2025-05-11 20:32:35.563 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7352ms
2025-05-11 20:32:35.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 35.0768ms
2025-05-11 20:32:35.572 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 32.204ms
2025-05-11 20:32:35.577 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:32:35.586 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:32:35.590 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:32:39.850 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:32:39.856 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:32:39.859 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:32:39.862 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:32:39.865 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:32:39.869 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:32:39.875 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:32:39.877 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:32:39.885 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:39.890 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:39.895 +07:00 [INF] Executed page /Account/Login in 33.7713ms
2025-05-11 20:32:39.896 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:32:39.898 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 41.7229 ms
2025-05-11 20:32:39.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 50.4305ms
2025-05-11 20:32:39.931 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:32:39.932 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:32:39.937 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 1.0547 ms
2025-05-11 20:32:39.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:39.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:32:39.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:32:39.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:32:39.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:32:39.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:39.939 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.2954 ms
2025-05-11 20:32:39.952 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.2452 ms
2025-05-11 20:32:39.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.9611ms
2025-05-11 20:32:39.959 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.2563 ms
2025-05-11 20:32:39.941 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 9.7371ms
2025-05-11 20:32:39.956 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.3284 ms
2025-05-11 20:32:39.949 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.3144 ms
2025-05-11 20:32:39.969 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 36.3461ms
2025-05-11 20:32:39.971 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 33.2205ms
2025-05-11 20:32:39.971 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8325ms
2025-05-11 20:32:39.978 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 41.029ms
2025-05-11 20:32:39.985 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:32:39.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 49.9886ms
2025-05-11 20:32:39.991 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 53.702ms
2025-05-11 20:32:39.998 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:32:40.005 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:32:40.018 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:32:40.029 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:32:40.035 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:32:42.220 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 269
2025-05-11 20:32:42.228 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:42.229 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:32:42.232 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:32:42.239 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:32:42.248 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:32:42.401 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:32:42.414 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:42.420 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:32:42.426 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:32:42.430 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:32:42.435 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:32:42.440 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:42.444 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:32:42.446 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:32:42.447 +07:00 [INF] Executed page /Account/Login in 210.6478ms
2025-05-11 20:32:42.449 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:32:42.451 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 222.6145 ms
2025-05-11 20:32:42.453 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 233.2773ms
2025-05-11 20:32:42.457 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:32:42.466 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:42.468 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:32:42.475 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:42.480 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:42.501 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:32:42.523 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:42.532 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:42.536 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:42.540 +07:00 [INF] Executed ViewResult - view Index executed in 17.1138ms.
2025-05-11 20:32:42.541 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 70.0275ms
2025-05-11 20:32:42.543 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:32:42.547 +07:00 [INF] HTTP GET / responded 200 in 82.0023 ms
2025-05-11 20:32:42.549 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 92.1712ms
2025-05-11 20:32:42.585 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:32:42.587 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:42.592 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 1.4835 ms
2025-05-11 20:32:42.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:42.596 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 8.4458ms
2025-05-11 20:32:42.599 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 13.9945ms
2025-05-11 20:32:42.609 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.0596ms
2025-05-11 20:32:42.611 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:32:43.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/CustomerChat - null null
2025-05-11 20:32:43.335 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:32:43.344 +07:00 [INF] Route matched with {action = "Index", controller = "CustomerChat", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.CustomerChatController (DoAnLTW).
2025-05-11 20:32:43.352 +07:00 [INF] Customer accessing chat interface.
2025-05-11 20:32:43.382 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-11 20:32:43.407 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:32:43.416 +07:00 [INF] Found employee: ID=9214c411-29f4-4eb8-a81c-65054d21675e, Name=employee@gmail.com
2025-05-11 20:32:43.420 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:32:43.452 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:32:43.457 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:32:43.462 +07:00 [INF] Executed ViewResult - view Index executed in 43.1838ms.
2025-05-11 20:32:43.464 +07:00 [INF] Executed action DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW) in 115.6979ms
2025-05-11 20:32:43.465 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:32:43.469 +07:00 [INF] HTTP GET /CustomerChat responded 200 in 136.4822 ms
2025-05-11 20:32:43.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/CustomerChat - 200 null text/html; charset=utf-8 152.165ms
2025-05-11 20:32:43.508 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:32:43.510 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:32:43.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:32:43.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:32:43.514 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.8122 ms
2025-05-11 20:32:43.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.7637ms
2025-05-11 20:32:43.517 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:43.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 17.2696ms
2025-05-11 20:32:43.529 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.544ms
2025-05-11 20:32:43.532 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:32:43.536 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:32:43.542 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:32:43.545 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 28.7280 ms
2025-05-11 20:32:43.548 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 37.6907ms
2025-05-11 20:32:43.550 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=yFvooqm0__vbJn-aRftugQ - null null
2025-05-11 20:32:43.557 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:32:43.558 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:32:43.565 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:43.573 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:32:43.606 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:32:51.816 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:51.820 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:32:52.006 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Messages] ([Content], [IsRead], [ReceiverId], [SenderId], [Timestamp])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-11 20:33:00.254 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Account/Logout - application/x-www-form-urlencoded 225
2025-05-11 20:33:00.261 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:33:00.264 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.AccountController.Logout (DoAnLTW)'
2025-05-11 20:33:00.269 +07:00 [INF] Route matched with {action = "Logout", controller = "Account", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller DoAnLTW.Controllers.AccountController (DoAnLTW).
2025-05-11 20:33:00.275 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-05-11 20:33:00.279 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:33:00.282 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-05-11 20:33:00.285 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-05-11 20:33:00.287 +07:00 [INF] Executed action DoAnLTW.Controllers.AccountController.Logout (DoAnLTW) in 12.3566ms
2025-05-11 20:33:00.289 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.AccountController.Logout (DoAnLTW)'
2025-05-11 20:33:00.290 +07:00 [INF] HTTP POST /Account/Logout responded 302 in 29.2075 ms
2025-05-11 20:33:00.294 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Account/Logout - 302 0 null 39.7831ms
2025-05-11 20:33:00.299 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:33:00.306 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:33:00.310 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:33:00.316 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:33:00.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:33:00.344 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:33:00.401 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:33:00.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:33:00.414 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:33:00.417 +07:00 [INF] Executed ViewResult - view Index executed in 15.7059ms.
2025-05-11 20:33:00.418 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 105.468ms
2025-05-11 20:33:00.420 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:33:00.421 +07:00 [INF] HTTP GET / responded 200 in 114.4664 ms
2025-05-11 20:33:00.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 128.5789ms
2025-05-11 20:33:00.432 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:33:00.439 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:33:00.443 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:33:00.446 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 16889.2958 ms
2025-05-11 20:33:00.448 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=yFvooqm0__vbJn-aRftugQ - 200 null null 16898.0924ms
2025-05-11 20:33:00.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:33:00.474 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:33:00.474 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:33:00.475 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.8179ms
2025-05-11 20:33:00.478 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.2541 ms
2025-05-11 20:33:00.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.4954ms
2025-05-11 20:33:00.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 15.0535ms
2025-05-11 20:33:00.498 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:33:01.754 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:33:01.761 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:33:01.762 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:33:01.765 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:33:01.769 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:33:01.770 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:33:01.772 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:33:01.773 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:33:01.779 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:33:01.786 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:33:01.790 +07:00 [INF] Executed page /Account/Login in 26.1899ms
2025-05-11 20:33:01.793 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:33:01.795 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 33.8688 ms
2025-05-11 20:33:01.798 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 44.2741ms
2025-05-11 20:33:01.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:33:01.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:33:01.844 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:33:01.845 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:33:01.844 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:33:01.843 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 0.2293 ms
2025-05-11 20:33:01.844 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:33:01.863 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.3632 ms
2025-05-11 20:33:01.867 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.2073 ms
2025-05-11 20:33:01.870 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.2192 ms
2025-05-11 20:33:01.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 34.5026ms
2025-05-11 20:33:01.858 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.4384 ms
2025-05-11 20:33:01.844 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:33:01.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:33:01.884 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.7390 ms
2025-05-11 20:33:01.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 40.8897ms
2025-05-11 20:33:01.887 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 42.5909ms
2025-05-11 20:33:01.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 45.8882ms
2025-05-11 20:33:01.895 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:33:01.897 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 54.3423ms
2025-05-11 20:33:01.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 55.8752ms
2025-05-11 20:33:01.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 61.4338ms
2025-05-11 20:33:01.908 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.0087ms
2025-05-11 20:33:01.910 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:33:01.915 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:33:01.919 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:33:01.927 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:33:01.938 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:33:04.692 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 269
2025-05-11 20:33:04.698 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:33:04.699 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:33:04.700 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:33:04.704 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:33:04.713 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:33:04.835 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:33:04.842 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:33:04.847 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:33:04.854 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:33:04.858 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:33:04.864 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:33:04.870 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:33:04.871 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:33:04.874 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:33:04.876 +07:00 [INF] Executed page /Account/Login in 173.5903ms
2025-05-11 20:33:04.878 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:33:04.879 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 181.2082 ms
2025-05-11 20:33:04.880 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 188.6889ms
2025-05-11 20:33:04.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:33:04.891 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:33:04.892 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:33:04.897 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:33:04.902 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:33:04.922 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:33:04.933 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:33:04.939 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:33:04.945 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:33:04.950 +07:00 [INF] Executed ViewResult - view Index executed in 16.6635ms.
2025-05-11 20:33:04.952 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 57.3228ms
2025-05-11 20:33:04.953 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:33:04.956 +07:00 [INF] HTTP GET / responded 200 in 66.3303 ms
2025-05-11 20:33:04.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 74.7864ms
2025-05-11 20:33:04.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:33:04.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:33:04.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.6845ms
2025-05-11 20:33:05.005 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.8606ms
2025-05-11 20:33:05.846 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:33:05.857 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:33:05.859 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:33:05.863 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:33:05.883 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:33:05.888 +07:00 [INF] Found 1 customer requests.
2025-05-11 20:33:05.891 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:33:05.920 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:33:05.929 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:33:05.936 +07:00 [INF] Executed ViewResult - view Index executed in 45.5967ms.
2025-05-11 20:33:05.939 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 76.1389ms
2025-05-11 20:33:05.941 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:33:05.943 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 88.4247 ms
2025-05-11 20:33:05.946 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 99.7786ms
2025-05-11 20:33:05.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:33:05.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:33:05.968 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:33:05.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.7909ms
2025-05-11 20:33:05.974 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.6397ms
2025-05-11 20:33:05.976 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:33:05.986 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:33:05.988 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:33:05.990 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 13.3452 ms
2025-05-11 20:33:05.992 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 24.6455ms
2025-05-11 20:33:06.011 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=DUmvQq6KFCEu3TfK-wEsWg - null null
2025-05-11 20:33:06.015 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:33:06.016 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:33:06.021 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:33:06.025 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:33:06.035 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:33:14.562 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
2025-05-11 20:33:14.590 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__otherUserId_0='?' (Size = 4000), @__userId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Content], [m].[IsRead], [m].[ReceiverId], [m].[SenderId], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE [m].[SenderId] = @__otherUserId_0 AND [m].[ReceiverId] = @__userId_1 AND [m].[IsRead] = CAST(0 AS bit)
2025-05-11 20:33:14.606 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Messages] SET [IsRead] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-05-11 20:34:30.343 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:34:30.359 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:34:30.367 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:34:30.370 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:34:30.384 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:34:30.390 +07:00 [INF] No unread customer messages found.
2025-05-11 20:34:30.392 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:34:30.425 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:34:30.433 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:34:30.455 +07:00 [INF] Executed ViewResult - view Index executed in 63.8551ms.
2025-05-11 20:34:30.457 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 86.6061ms
2025-05-11 20:34:30.458 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:34:30.459 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 100.5498 ms
2025-05-11 20:34:30.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 117.6109ms
2025-05-11 20:34:30.469 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:34:30.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:34:30.490 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:34:30.506 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:34:30.511 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 84496.5092 ms
2025-05-11 20:34:30.518 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=DUmvQq6KFCEu3TfK-wEsWg - 200 null null 84506.488ms
2025-05-11 20:34:30.537 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:34:30.546 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:34:30.552 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:34:30.552 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.9615ms
2025-05-11 20:34:30.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 8.1923ms
2025-05-11 20:34:30.558 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:34:30.571 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:34:30.572 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:34:30.573 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 15.4874 ms
2025-05-11 20:34:30.575 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 23.6646ms
2025-05-11 20:34:30.596 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=eQPrGBnJq5GAAd-CGIrdQA - null null
2025-05-11 20:34:30.599 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:34:30.601 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:34:30.616 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:34:30.621 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:34:30.624 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:34:34.319 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:34:34.331 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:34:34.341 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:34:34.344 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:34:34.345 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 136970.9808 ms
2025-05-11 20:34:34.347 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=kVFSi2rk4AOKUZDHjYwnmg - 200 null null 136977.0861ms
2025-05-11 20:34:35.692 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:34:35.702 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:34:35.710 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:34:35.714 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:34:35.715 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 5116.0076 ms
2025-05-11 20:34:35.718 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=eQPrGBnJq5GAAd-CGIrdQA - 200 null null 5122.0653ms
2025-05-11 20:34:42.745 +07:00 [INF] User profile is available. Using 'C:\Users\admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-11 20:34:43.056 +07:00 [INF] Now listening on: https://localhost:5134
2025-05-11 20:34:43.083 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-11 20:34:43.084 +07:00 [INF] Hosting environment: Development
2025-05-11 20:34:43.085 +07:00 [INF] Content root path: H:\DoAnCoSo\DoAnLTW
2025-05-11 20:34:43.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:34:43.679 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:34:43.689 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:34:44.535 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:34:44.598 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:34:44.716 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:34:44.752 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:34:44.827 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:34:44.976 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:34:45.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:34:45.073 +07:00 [INF] Executed ViewResult - view Index executed in 247.0095ms.
2025-05-11 20:34:45.080 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 1376.2022ms
2025-05-11 20:34:45.083 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:34:45.088 +07:00 [INF] HTTP GET / responded 200 in 1540.5500 ms
2025-05-11 20:34:45.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:34:45.093 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:34:45.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 12.8023ms
2025-05-11 20:34:45.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 1638.6087ms
2025-05-11 20:34:45.127 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8719ms
2025-05-11 20:35:01.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:35:01.743 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:01.753 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:35:01.762 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:35:01.880 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:35:01.886 +07:00 [INF] No unread customer messages found.
2025-05-11 20:35:01.895 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:35:01.929 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:01.939 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:01.947 +07:00 [INF] Executed ViewResult - view Index executed in 54.0158ms.
2025-05-11 20:35:01.949 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 193.1381ms
2025-05-11 20:35:01.952 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:01.954 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 225.7157 ms
2025-05-11 20:35:01.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 241.5837ms
2025-05-11 20:35:01.976 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:35:01.976 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:35:01.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 11.3281ms
2025-05-11 20:35:01.997 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.2256ms
2025-05-11 20:35:02.004 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:35:02.012 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:02.041 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:35:02.052 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:35:02.054 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 45.9220 ms
2025-05-11 20:35:02.057 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 53.0246ms
2025-05-11 20:35:02.060 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=TQ5KXJykO3-iby88vXLcjg - null null
2025-05-11 20:35:02.065 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:02.069 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:35:02.176 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:02.190 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:02.230 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:02.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Pet - null null
2025-05-11 20:35:02.666 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Staff)
2025-05-11 20:35:02.670 +07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-05-11 20:35:02.672 +07:00 [INF] HTTP GET /Admin/Pet responded 302 in 9.8814 ms
2025-05-11 20:35:02.675 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Pet - 302 0 null 19.2163ms
2025-05-11 20:35:02.680 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FPet - null null
2025-05-11 20:35:02.689 +07:00 [INF] HTTP GET /Identity/Account/AccessDenied responded 404 in 1.9289 ms
2025-05-11 20:35:02.694 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FPet - 404 0 null 14.3046ms
2025-05-11 20:35:02.700 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/AccessDenied, Response status code: 404
2025-05-11 20:35:02.737 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:02.745 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:02.755 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:02.764 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:35:02.766 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 700.7220 ms
2025-05-11 20:35:02.770 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=TQ5KXJykO3-iby88vXLcjg - 200 null null 709.9346ms
2025-05-11 20:35:07.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:35:07.965 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:07.968 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:35:07.975 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:35:07.993 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:35:08.000 +07:00 [INF] No unread customer messages found.
2025-05-11 20:35:08.003 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:35:08.010 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:08.021 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:08.030 +07:00 [INF] Executed ViewResult - view Index executed in 27.5999ms.
2025-05-11 20:35:08.036 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 61.7994ms
2025-05-11 20:35:08.039 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:08.044 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 79.4359 ms
2025-05-11 20:35:08.051 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 94.0927ms
2025-05-11 20:35:08.076 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:35:08.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.5417ms
2025-05-11 20:35:08.177 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:35:08.182 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:08.184 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:35:08.187 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:35:08.188 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 5.9730 ms
2025-05-11 20:35:08.190 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 13.2512ms
2025-05-11 20:35:08.252 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=QEHUb8OtNIdcN1SWK3bDpA - null null
2025-05-11 20:35:08.256 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:08.258 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:35:08.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:08.273 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:08.282 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:11.285 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:35:11.293 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:11.295 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:35:11.299 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:35:11.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:35:11.310 +07:00 [INF] No unread customer messages found.
2025-05-11 20:35:11.313 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:35:11.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:11.325 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:11.331 +07:00 [INF] Executed ViewResult - view Index executed in 17.8115ms.
2025-05-11 20:35:11.334 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 34.9748ms
2025-05-11 20:35:11.335 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:11.337 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 44.3054 ms
2025-05-11 20:35:11.340 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 54.9134ms
2025-05-11 20:35:11.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:11.349 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:11.354 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:11.355 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:35:11.355 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:35:11.356 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:35:11.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 8.4894ms
2025-05-11 20:35:11.397 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 3141.0185 ms
2025-05-11 20:35:11.357 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:35:11.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.6724ms
2025-05-11 20:35:11.412 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=QEHUb8OtNIdcN1SWK3bDpA - 200 null null 3160.3203ms
2025-05-11 20:35:11.417 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:11.424 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:35:11.426 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:35:11.427 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 11.2721 ms
2025-05-11 20:35:11.430 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 72.7144ms
2025-05-11 20:35:11.432 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=u7obYt-TFQ_HjW6VfO6bfg - null null
2025-05-11 20:35:11.443 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:11.445 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:35:11.449 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:11.453 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:11.458 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:13.434 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Statistics - null null
2025-05-11 20:35:13.440 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Staff)
2025-05-11 20:35:13.442 +07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-05-11 20:35:13.443 +07:00 [INF] HTTP GET /Admin/Statistics responded 302 in 3.9807 ms
2025-05-11 20:35:13.447 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Statistics - 302 0 null 13.1235ms
2025-05-11 20:35:13.451 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FStatistics - null null
2025-05-11 20:35:13.459 +07:00 [INF] HTTP GET /Identity/Account/AccessDenied responded 404 in 2.6422 ms
2025-05-11 20:35:13.463 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FStatistics - 404 0 null 11.6175ms
2025-05-11 20:35:13.468 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/AccessDenied, Response status code: 404
2025-05-11 20:35:13.495 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:13.503 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:13.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:13.511 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:35:13.513 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 2069.8529 ms
2025-05-11 20:35:13.515 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=u7obYt-TFQ_HjW6VfO6bfg - 200 null null 2083.3519ms
2025-05-11 20:35:14.776 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:35:14.787 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:14.790 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:35:14.795 +07:00 [INF] Employee accessing chat interface. User ID: 9214c411-29f4-4eb8-a81c-65054d21675e
2025-05-11 20:35:14.800 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:35:14.805 +07:00 [INF] No unread customer messages found.
2025-05-11 20:35:14.807 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:35:14.810 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:14.816 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:14.822 +07:00 [INF] Executed ViewResult - view Index executed in 15.1742ms.
2025-05-11 20:35:14.827 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 32.0584ms
2025-05-11 20:35:14.830 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:35:14.833 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 46.0063 ms
2025-05-11 20:35:14.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 60.0576ms
2025-05-11 20:35:14.854 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:35:14.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.9585ms
2025-05-11 20:35:14.937 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:35:14.945 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:14.947 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:35:14.951 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:35:14.953 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 8.3851 ms
2025-05-11 20:35:14.958 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 21.1349ms
2025-05-11 20:35:14.994 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=rfiX0leJ-lhjzTICashVHQ - null null
2025-05-11 20:35:15.000 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:35:15.002 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:35:15.011 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:15.023 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:15.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:15.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:35:15.676 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:35:15.683 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:35:15.734 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:35:15.818 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:35:15.876 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:15.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:15.901 +07:00 [INF] Executed ViewResult - view Index executed in 83.552ms.
2025-05-11 20:35:15.903 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 216.1478ms
2025-05-11 20:35:15.906 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:35:15.909 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 233.0251 ms
2025-05-11 20:35:15.911 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:15.912 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 244.2519ms
2025-05-11 20:35:15.917 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:15.925 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
WHERE [a1].[Name] = N'Customer'
2025-05-11 20:35:15.929 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:35:15.931 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 930.8629 ms
2025-05-11 20:35:15.932 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:35:15.934 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=rfiX0leJ-lhjzTICashVHQ - 200 null null 939.1819ms
2025-05-11 20:35:15.935 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:35:15.944 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.0506ms
2025-05-11 20:35:15.946 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 10.857ms
2025-05-11 20:35:20.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Product - null null
2025-05-11 20:35:20.139 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-11 20:35:20.141 +07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-05-11 20:35:20.144 +07:00 [INF] HTTP GET /Admin/Product responded 302 in 5.9422 ms
2025-05-11 20:35:20.147 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Product - 302 0 null 15.6188ms
2025-05-11 20:35:20.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FProduct - null null
2025-05-11 20:35:20.161 +07:00 [INF] HTTP GET /Identity/Account/AccessDenied responded 404 in 0.5001 ms
2025-05-11 20:35:20.164 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FProduct - 404 0 null 13.5761ms
2025-05-11 20:35:20.170 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/AccessDenied, Response status code: 404
2025-05-11 20:35:21.136 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:35:21.141 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:35:21.145 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:35:21.149 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:35:21.155 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:35:21.158 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:35:21.164 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:35:21.170 +07:00 [INF] Executed ViewResult - view Index executed in 15.1662ms.
2025-05-11 20:35:21.172 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 24.8816ms
2025-05-11 20:35:21.175 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:35:21.177 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 36.6687 ms
2025-05-11 20:35:21.181 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 45.3605ms
2025-05-11 20:35:21.204 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:35:21.211 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.0838ms
2025-05-11 20:36:27.869 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:36:27.903 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:36:27.905 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:36:27.916 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:36:27.921 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:36:27.930 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:36:27.941 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:36:27.946 +07:00 [INF] Executed ViewResult - view Index executed in 25.2074ms.
2025-05-11 20:36:27.951 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 42.7993ms
2025-05-11 20:36:27.958 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:36:27.960 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 57.4453 ms
2025-05-11 20:36:27.964 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 95.2928ms
2025-05-11 20:36:27.979 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:36:27.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:36:27.990 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 10.1603ms
2025-05-11 20:36:28.034 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.9141ms
2025-05-11 20:36:28.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Product - null null
2025-05-11 20:36:28.767 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-11 20:36:28.771 +07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-05-11 20:36:28.774 +07:00 [INF] HTTP GET /Admin/Product responded 302 in 8.4950 ms
2025-05-11 20:36:28.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Product - 302 0 null 22.0999ms
2025-05-11 20:36:28.783 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FProduct - null null
2025-05-11 20:36:28.798 +07:00 [INF] HTTP GET /Identity/Account/AccessDenied responded 404 in 0.6762 ms
2025-05-11 20:36:28.801 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FProduct - 404 0 null 18.1904ms
2025-05-11 20:36:28.807 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/AccessDenied, Response status code: 404
2025-05-11 20:37:46.098 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:37:46.160 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:37:46.166 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:37:46.183 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:37:46.188 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:37:46.199 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:37:46.210 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:37:46.215 +07:00 [INF] Executed ViewResult - view Index executed in 27.2612ms.
2025-05-11 20:37:46.217 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 43.304ms
2025-05-11 20:37:46.219 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:37:46.221 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 62.6188 ms
2025-05-11 20:37:46.224 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 125.951ms
2025-05-11 20:37:46.245 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:37:46.251 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.9694ms
2025-05-11 20:37:48.881 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Logout - application/x-www-form-urlencoded 225
2025-05-11 20:37:48.887 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:37:48.888 +07:00 [INF] Executing endpoint '/Account/Logout'
2025-05-11 20:37:48.908 +07:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2025-05-11 20:37:48.939 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2025-05-11 20:37:48.949 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-05-11 20:37:48.953 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:37:48.955 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-05-11 20:37:48.956 +07:00 [INF] User logged out.
2025-05-11 20:37:48.958 +07:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2025-05-11 20:37:48.962 +07:00 [INF] Executing RedirectToPageResult, redirecting to null.
2025-05-11 20:37:48.964 +07:00 [INF] Executed page /Account/Logout in 52.1049ms
2025-05-11 20:37:48.966 +07:00 [INF] Executed endpoint '/Account/Logout'
2025-05-11 20:37:48.984 +07:00 [INF] HTTP POST /Identity/Account/Logout responded 302 in 97.5578 ms
2025-05-11 20:37:48.986 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Logout - 302 0 null 104.8944ms
2025-05-11 20:37:48.999 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Logout - null null
2025-05-11 20:37:49.008 +07:00 [INF] Executing endpoint '/Account/Logout'
2025-05-11 20:37:49.010 +07:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2025-05-11 20:37:49.016 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:37:49.034 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:37:49.114 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:37:49.131 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:37:49.171 +07:00 [INF] Executed page /Account/Logout in 157.9361ms
2025-05-11 20:37:49.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:37:49.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:37:49.219 +07:00 [INF] Executed endpoint '/Account/Logout'
2025-05-11 20:37:49.234 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 1.3471 ms
2025-05-11 20:37:49.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 33.248ms
2025-05-11 20:37:49.276 +07:00 [INF] HTTP GET /Identity/Account/Logout responded 200 in 269.0561 ms
2025-05-11 20:37:49.212 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:37:49.219 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:37:49.227 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:37:49.287 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 78.3872ms
2025-05-11 20:37:49.295 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Logout - 200 null text/html; charset=utf-8 296.2914ms
2025-05-11 20:37:49.300 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 1.2405 ms
2025-05-11 20:37:49.302 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.3759 ms
2025-05-11 20:37:49.309 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:37:49.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.345ms
2025-05-11 20:37:49.315 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 105.4401ms
2025-05-11 20:37:49.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 98.4731ms
2025-05-11 20:37:49.329 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:37:49.335 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:37:51.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:37:51.081 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:37:51.096 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:37:51.103 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:37:51.107 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:37:51.110 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:37:51.112 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:37:51.114 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:37:51.159 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:37:51.165 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:37:51.180 +07:00 [INF] Executed page /Account/Login in 80.5112ms
2025-05-11 20:37:51.187 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:37:51.190 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 109.0107 ms
2025-05-11 20:37:51.193 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 120.1942ms
2025-05-11 20:37:51.216 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:37:51.219 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:37:51.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:37:51.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:37:51.232 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.4473 ms
2025-05-11 20:37:51.246 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.9052 ms
2025-05-11 20:37:51.220 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 0.7536 ms
2025-05-11 20:37:51.219 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:37:51.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:37:51.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:37:51.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:37:51.269 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 49.5846ms
2025-05-11 20:37:51.269 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.6431ms
2025-05-11 20:37:51.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 54.4308ms
2025-05-11 20:37:51.278 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 62.9793ms
2025-05-11 20:37:51.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 64.0453ms
2025-05-11 20:37:51.287 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.4214 ms
2025-05-11 20:37:51.292 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.3030 ms
2025-05-11 20:37:51.295 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.2454 ms
2025-05-11 20:37:51.299 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:37:51.308 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:37:51.312 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:37:51.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 100.7236ms
2025-05-11 20:37:51.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 102.8556ms
2025-05-11 20:37:51.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 105.0082ms
2025-05-11 20:37:51.338 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:37:51.342 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:37:51.347 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:37:53.350 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 266
2025-05-11 20:37:53.365 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:37:53.367 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:37:53.370 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:37:53.394 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:37:53.421 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:37:53.593 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:37:53.600 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:37:53.618 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:37:53.655 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:37:53.664 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:37:53.684 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:37:53.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:37:53.695 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:37:53.699 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:37:53.701 +07:00 [INF] Executed page /Account/Login in 327.6786ms
2025-05-11 20:37:53.703 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:37:53.704 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 339.4901 ms
2025-05-11 20:37:53.706 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 355.8298ms
2025-05-11 20:37:53.711 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:37:53.718 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:37:53.719 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:37:53.724 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:37:53.744 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:37:53.767 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:37:53.797 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:37:53.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:37:53.817 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:37:53.831 +07:00 [INF] Executed ViewResult - view Index executed in 33.9725ms.
2025-05-11 20:37:53.840 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 119.1799ms
2025-05-11 20:37:53.843 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:37:53.845 +07:00 [INF] HTTP GET / responded 200 in 127.9954 ms
2025-05-11 20:37:53.849 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 138.3721ms
2025-05-11 20:37:53.865 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:37:53.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:37:53.869 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.4913ms
2025-05-11 20:37:53.876 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7136ms
2025-05-11 20:37:55.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:37:55.096 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:37:55.098 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:37:55.103 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:37:55.110 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:37:55.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:37:55.128 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:37:55.138 +07:00 [INF] Executed ViewResult - view Index executed in 27.9004ms.
2025-05-11 20:37:55.142 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 40.6952ms
2025-05-11 20:37:55.145 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:37:55.147 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 51.8110 ms
2025-05-11 20:37:55.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 62.8398ms
2025-05-11 20:37:55.171 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:37:55.175 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:37:55.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.452ms
2025-05-11 20:37:55.181 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9839ms
2025-05-11 20:38:56.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:38:56.550 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:38:56.552 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:38:56.561 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:38:56.567 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:38:56.574 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:38:56.593 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:38:56.600 +07:00 [INF] Executed ViewResult - view Index executed in 32.8513ms.
2025-05-11 20:38:56.610 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 55.2623ms
2025-05-11 20:38:56.616 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:38:56.622 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 72.5907 ms
2025-05-11 20:38:56.632 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 93.7577ms
2025-05-11 20:38:56.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:38:56.672 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:38:56.726 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 54.4223ms
2025-05-11 20:38:56.729 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.1842ms
2025-05-11 20:38:59.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Product - null null
2025-05-11 20:38:59.348 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.ProductController.Index (DoAnLTW)'
2025-05-11 20:38:59.357 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Product", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.ProductController (DoAnLTW).
2025-05-11 20:38:59.383 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:38:59.406 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:38:59.460 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:38:59.469 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:38:59.475 +07:00 [INF] Executed ViewResult - view Index executed in 71.0046ms.
2025-05-11 20:38:59.479 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.ProductController.Index (DoAnLTW) in 117.6433ms
2025-05-11 20:38:59.483 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.ProductController.Index (DoAnLTW)'
2025-05-11 20:38:59.484 +07:00 [INF] HTTP GET /Admin/Product responded 200 in 136.9640 ms
2025-05-11 20:38:59.487 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Product - 200 null text/html; charset=utf-8 148.2262ms
2025-05-11 20:38:59.500 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:38:59.501 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:38:59.503 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 3.5048ms
2025-05-11 20:38:59.517 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.3367ms
2025-05-11 20:39:05.463 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Category - null null
2025-05-11 20:39:05.471 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.CategoryController.Index (DoAnLTW)'
2025-05-11 20:39:05.478 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Category", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.CategoryController (DoAnLTW).
2025-05-11 20:39:05.484 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:39:05.489 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:39:05.503 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:05.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:05.512 +07:00 [INF] Executed ViewResult - view Index executed in 24.0421ms.
2025-05-11 20:39:05.514 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.CategoryController.Index (DoAnLTW) in 33.7969ms
2025-05-11 20:39:05.516 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.CategoryController.Index (DoAnLTW)'
2025-05-11 20:39:05.520 +07:00 [INF] HTTP GET /Admin/Category responded 200 in 49.8739 ms
2025-05-11 20:39:05.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Category - 200 null text/html; charset=utf-8 59.9355ms
2025-05-11 20:39:05.539 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:05.539 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:05.543 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.2955ms
2025-05-11 20:39:05.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.8061ms
2025-05-11 20:39:12.064 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Brand - null null
2025-05-11 20:39:12.070 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.BrandController.Index (DoAnLTW)'
2025-05-11 20:39:12.074 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Brand", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.BrandController (DoAnLTW).
2025-05-11 20:39:12.082 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:39:12.086 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:39:12.101 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:12.114 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:12.126 +07:00 [INF] Executed ViewResult - view Index executed in 39.86ms.
2025-05-11 20:39:12.129 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.BrandController.Index (DoAnLTW) in 52.2073ms
2025-05-11 20:39:12.134 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.BrandController.Index (DoAnLTW)'
2025-05-11 20:39:12.137 +07:00 [INF] HTTP GET /Admin/Brand responded 200 in 68.2671 ms
2025-05-11 20:39:12.145 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Brand - 200 null text/html; charset=utf-8 80.5118ms
2025-05-11 20:39:12.168 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:12.172 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:12.174 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.3877ms
2025-05-11 20:39:12.181 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.4902ms
2025-05-11 20:39:17.070 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Size - null null
2025-05-11 20:39:17.075 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.SizeController.Index (DoAnLTW)'
2025-05-11 20:39:17.080 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Size", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.SizeController (DoAnLTW).
2025-05-11 20:39:17.090 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SizeId], [s].[size]
FROM [Sizes] AS [s]
2025-05-11 20:39:17.094 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:39:17.106 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:17.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:17.115 +07:00 [INF] Executed ViewResult - view Index executed in 21.6972ms.
2025-05-11 20:39:17.117 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.SizeController.Index (DoAnLTW) in 35.4317ms
2025-05-11 20:39:17.120 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.SizeController.Index (DoAnLTW)'
2025-05-11 20:39:17.122 +07:00 [INF] HTTP GET /Admin/Size responded 200 in 47.2877 ms
2025-05-11 20:39:17.127 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Size - 200 null text/html; charset=utf-8 56.658ms
2025-05-11 20:39:17.146 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:17.146 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:17.153 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.8318ms
2025-05-11 20:39:17.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.7639ms
2025-05-11 20:39:22.491 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/PetServices - null null
2025-05-11 20:39:22.499 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.PetServicesController.Index (DoAnLTW)'
2025-05-11 20:39:22.505 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "PetServices", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.PetServicesController (DoAnLTW).
2025-05-11 20:39:22.547 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Address], [p].[AppointmentDate], [p].[AppointmentTime], [p].[BookingDate], [p].[Note], [p].[PetId], [p].[Price], [p].[ServiceId], [p].[Status], [p].[UserId], [p0].[PetId], [p0].[Age], [p0].[Breed], [p0].[Description], [p0].[Gender], [p0].[Name], [p0].[Type], [p0].[UserId], [s].[ServiceId], [s].[Description], [s].[Duration], [s].[Name], [s].[Price]
FROM [PetServices] AS [p]
INNER JOIN [Pets] AS [p0] ON [p].[PetId] = [p0].[PetId]
INNER JOIN [Services] AS [s] ON [p].[ServiceId] = [s].[ServiceId]
2025-05-11 20:39:22.642 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:39:22.660 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:22.670 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:22.676 +07:00 [INF] Executed ViewResult - view Index executed in 34.6668ms.
2025-05-11 20:39:22.678 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.PetServicesController.Index (DoAnLTW) in 169.844ms
2025-05-11 20:39:22.686 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.PetServicesController.Index (DoAnLTW)'
2025-05-11 20:39:22.689 +07:00 [INF] HTTP GET /Admin/PetServices responded 200 in 191.3982 ms
2025-05-11 20:39:22.694 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/PetServices - 200 null text/html; charset=utf-8 202.8646ms
2025-05-11 20:39:22.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:22.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:22.709 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.7385ms
2025-05-11 20:39:22.711 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.6392ms
2025-05-11 20:39:26.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Service - null null
2025-05-11 20:39:26.633 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.ServiceController.Index (DoAnLTW)'
2025-05-11 20:39:26.638 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Service", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.ServiceController (DoAnLTW).
2025-05-11 20:39:26.655 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ServiceId], [s].[Description], [s].[Duration], [s].[Name], [s].[Price]
FROM [Services] AS [s]
2025-05-11 20:39:26.660 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:39:26.673 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:26.684 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:26.689 +07:00 [INF] Executed ViewResult - view Index executed in 30.2301ms.
2025-05-11 20:39:26.691 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.ServiceController.Index (DoAnLTW) in 49.9898ms
2025-05-11 20:39:26.694 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.ServiceController.Index (DoAnLTW)'
2025-05-11 20:39:26.695 +07:00 [INF] HTTP GET /Admin/Service responded 200 in 63.1133 ms
2025-05-11 20:39:26.697 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Service - 200 null text/html; charset=utf-8 74.0091ms
2025-05-11 20:39:26.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:26.710 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:26.719 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.2103ms
2025-05-11 20:39:26.721 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5277ms
2025-05-11 20:39:33.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Pet - null null
2025-05-11 20:39:33.537 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.PetController.Index (DoAnLTW)'
2025-05-11 20:39:33.545 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Pet", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.PetController (DoAnLTW).
2025-05-11 20:39:33.568 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PetId], [p].[Age], [p].[Breed], [p].[Description], [p].[Gender], [p].[Name], [p].[Type], [p].[UserId]
FROM [Pets] AS [p]
2025-05-11 20:39:33.577 +07:00 [INF] Executing ViewResult, running view ~/Areas/Admin/Views/Pet/Index.cshtml.
2025-05-11 20:39:33.591 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:33.603 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:33.615 +07:00 [INF] Executed ViewResult - view ~/Areas/Admin/Views/Pet/Index.cshtml executed in 38.9635ms.
2025-05-11 20:39:33.622 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.PetController.Index (DoAnLTW) in 69.5394ms
2025-05-11 20:39:33.625 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.PetController.Index (DoAnLTW)'
2025-05-11 20:39:33.627 +07:00 [INF] HTTP GET /Admin/Pet responded 200 in 90.9047 ms
2025-05-11 20:39:33.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Pet - 200 null text/html; charset=utf-8 103.069ms
2025-05-11 20:39:33.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:33.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:33.653 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.9599ms
2025-05-11 20:39:33.661 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.9972ms
2025-05-11 20:39:38.101 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Pet/Detail/1 - null null
2025-05-11 20:39:38.111 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.PetController.Detail (DoAnLTW)'
2025-05-11 20:39:38.120 +07:00 [INF] Route matched with {area = "Admin", action = "Detail", controller = "Pet", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller DoAnLTW.Areas.Admin.Controllers.PetController (DoAnLTW).
2025-05-11 20:39:38.142 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PetId], [p].[Age], [p].[Breed], [p].[Description], [p].[Gender], [p].[Name], [p].[Type], [p].[UserId]
FROM [Pets] AS [p]
WHERE [p].[PetId] = @__p_0
2025-05-11 20:39:38.148 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:38.154 +07:00 [INF] Executing ViewResult, running view Detail.
2025-05-11 20:39:38.167 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:38.172 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:38.175 +07:00 [INF] Executed ViewResult - view Detail executed in 21.5988ms.
2025-05-11 20:39:38.177 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.PetController.Detail (DoAnLTW) in 55.1633ms
2025-05-11 20:39:38.178 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.PetController.Detail (DoAnLTW)'
2025-05-11 20:39:38.180 +07:00 [INF] HTTP GET /Admin/Pet/Detail/1 responded 200 in 71.4270 ms
2025-05-11 20:39:38.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Pet/Detail/1 - 200 null text/html; charset=utf-8 81.3018ms
2025-05-11 20:39:38.201 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:38.206 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:38.210 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.8725ms
2025-05-11 20:39:38.211 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.7369ms
2025-05-11 20:39:39.855 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Pet - null null
2025-05-11 20:39:39.863 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.PetController.Index (DoAnLTW)'
2025-05-11 20:39:39.866 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Pet", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.PetController (DoAnLTW).
2025-05-11 20:39:39.872 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PetId], [p].[Age], [p].[Breed], [p].[Description], [p].[Gender], [p].[Name], [p].[Type], [p].[UserId]
FROM [Pets] AS [p]
2025-05-11 20:39:39.877 +07:00 [INF] Executing ViewResult, running view ~/Areas/Admin/Views/Pet/Index.cshtml.
2025-05-11 20:39:39.880 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:39.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:39.892 +07:00 [INF] Executed ViewResult - view ~/Areas/Admin/Views/Pet/Index.cshtml executed in 15.4924ms.
2025-05-11 20:39:39.895 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.PetController.Index (DoAnLTW) in 25.1385ms
2025-05-11 20:39:39.898 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.PetController.Index (DoAnLTW)'
2025-05-11 20:39:39.901 +07:00 [INF] HTTP GET /Admin/Pet responded 200 in 38.7625 ms
2025-05-11 20:39:39.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Pet - 200 null text/html; charset=utf-8 49.8379ms
2025-05-11 20:39:39.926 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:39.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.5262ms
2025-05-11 20:39:41.265 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - null null
2025-05-11 20:39:41.277 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:39:41.285 +07:00 [INF] Route matched with {area = "Admin", action = "PhanQuyen", controller = "Admin", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PhanQuyen() on controller DoAnLTW.Areas.Admin.Controllers.AdminController (DoAnLTW).
2025-05-11 20:39:41.301 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
2025-05-11 20:39:41.313 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:41.324 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:41.331 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:41.341 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:41.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:39:41.359 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:41.367 +07:00 [INF] Executing ViewResult, running view PhanQuyen.
2025-05-11 20:39:41.407 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:39:41.416 +07:00 [INF] Executed ViewResult - view PhanQuyen executed in 50.0423ms.
2025-05-11 20:39:41.417 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW) in 128.5888ms
2025-05-11 20:39:41.419 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:39:41.424 +07:00 [INF] HTTP GET /Admin/Admin/PhanQuyen responded 200 in 147.0915 ms
2025-05-11 20:39:41.426 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - 200 null text/html; charset=utf-8 160.9983ms
2025-05-11 20:39:41.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:39:41.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:39:41.450 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.884ms
2025-05-11 20:39:41.450 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.5075ms
2025-05-11 20:40:25.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:40:25.854 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Employee)
2025-05-11 20:40:25.857 +07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-05-11 20:40:25.861 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 302 in 7.3228 ms
2025-05-11 20:40:25.864 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 302 0 null 29.5243ms
2025-05-11 20:40:25.873 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FEmployeeChat - null null
2025-05-11 20:40:25.972 +07:00 [INF] HTTP GET /Identity/Account/AccessDenied responded 404 in 0.4544 ms
2025-05-11 20:40:25.977 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FEmployeeChat - 404 0 null 104.041ms
2025-05-11 20:40:25.980 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/AccessDenied, Response status code: 404
2025-05-11 20:40:27.879 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - null null
2025-05-11 20:40:27.890 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:40:27.893 +07:00 [INF] Route matched with {area = "Admin", action = "PhanQuyen", controller = "Admin", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PhanQuyen() on controller DoAnLTW.Areas.Admin.Controllers.AdminController (DoAnLTW).
2025-05-11 20:40:27.906 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
2025-05-11 20:40:27.912 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:27.920 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:27.924 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:27.930 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:27.935 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:27.940 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:27.944 +07:00 [INF] Executing ViewResult, running view PhanQuyen.
2025-05-11 20:40:27.948 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:27.952 +07:00 [INF] Executed ViewResult - view PhanQuyen executed in 8.3548ms.
2025-05-11 20:40:27.954 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW) in 51.3134ms
2025-05-11 20:40:27.956 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:40:27.958 +07:00 [INF] HTTP GET /Admin/Admin/PhanQuyen responded 200 in 69.7246 ms
2025-05-11 20:40:27.961 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - 200 null text/html; charset=utf-8 81.8968ms
2025-05-11 20:40:27.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:40:27.994 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.5153ms
2025-05-11 20:40:29.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:40:29.972 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Employee)
2025-05-11 20:40:29.974 +07:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2025-05-11 20:40:29.975 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 302 in 3.0840 ms
2025-05-11 20:40:29.977 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 302 0 null 11.4777ms
2025-05-11 20:40:29.981 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FEmployeeChat - null null
2025-05-11 20:40:29.987 +07:00 [INF] HTTP GET /Identity/Account/AccessDenied responded 404 in 0.4702 ms
2025-05-11 20:40:29.991 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/AccessDenied?ReturnUrl=%2FAdmin%2FEmployeeChat - 404 0 null 9.6698ms
2025-05-11 20:40:29.997 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/AccessDenied, Response status code: 404
2025-05-11 20:40:31.028 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - null null
2025-05-11 20:40:31.036 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:40:31.040 +07:00 [INF] Route matched with {area = "Admin", action = "PhanQuyen", controller = "Admin", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PhanQuyen() on controller DoAnLTW.Areas.Admin.Controllers.AdminController (DoAnLTW).
2025-05-11 20:40:31.046 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
2025-05-11 20:40:31.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:31.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:31.063 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:31.068 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:31.074 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:31.079 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:31.083 +07:00 [INF] Executing ViewResult, running view PhanQuyen.
2025-05-11 20:40:31.087 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:31.092 +07:00 [INF] Executed ViewResult - view PhanQuyen executed in 8.4999ms.
2025-05-11 20:40:31.095 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW) in 50.0469ms
2025-05-11 20:40:31.097 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:40:31.098 +07:00 [INF] HTTP GET /Admin/Admin/PhanQuyen responded 200 in 62.3026 ms
2025-05-11 20:40:31.101 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - 200 null text/html; charset=utf-8 72.6514ms
2025-05-11 20:40:31.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:40:31.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.8281ms
2025-05-11 20:40:52.170 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - null null
2025-05-11 20:40:52.176 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:40:52.183 +07:00 [INF] Route matched with {area = "Admin", action = "PhanQuyen", controller = "Admin", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PhanQuyen() on controller DoAnLTW.Areas.Admin.Controllers.AdminController (DoAnLTW).
2025-05-11 20:40:52.190 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[UserName], [a].[Email]
FROM [AspNetUsers] AS [a]
2025-05-11 20:40:52.197 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:52.204 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:52.210 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:52.213 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:52.217 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:52.221 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:52.224 +07:00 [INF] Executing ViewResult, running view PhanQuyen.
2025-05-11 20:40:52.230 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:52.234 +07:00 [INF] Executed ViewResult - view PhanQuyen executed in 10.3539ms.
2025-05-11 20:40:52.236 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW) in 49.494ms
2025-05-11 20:40:52.237 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.AdminController.PhanQuyen (DoAnLTW)'
2025-05-11 20:40:52.238 +07:00 [INF] HTTP GET /Admin/Admin/PhanQuyen responded 200 in 62.8825 ms
2025-05-11 20:40:52.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Admin/PhanQuyen - 200 null text/html; charset=utf-8 74.0639ms
2025-05-11 20:40:52.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:40:52.261 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:40:52.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.9103ms
2025-05-11 20:40:52.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 15.6601ms
2025-05-11 20:40:53.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:40:53.340 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:40:53.343 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:40:53.346 +07:00 [INF] Employee accessing chat interface. User ID: 1594ee82-f7c5-4831-b421-70756926d0fe
2025-05-11 20:40:53.359 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:40:53.369 +07:00 [INF] No unread customer messages found.
2025-05-11 20:40:53.373 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:40:53.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:53.384 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:53.393 +07:00 [INF] Executed ViewResult - view Index executed in 20.9329ms.
2025-05-11 20:40:53.395 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 49.5776ms
2025-05-11 20:40:53.397 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:40:53.399 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 61.2958 ms
2025-05-11 20:40:53.403 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 69.711ms
2025-05-11 20:40:53.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:40:53.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:40:53.424 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.9097ms
2025-05-11 20:40:53.424 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.8738ms
2025-05-11 20:40:53.445 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:40:53.449 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:40:53.450 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:40:53.453 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:40:53.454 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 5.1721 ms
2025-05-11 20:40:53.457 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 12.4202ms
2025-05-11 20:40:53.467 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=-KjoHOjx2WAASdVZOqYtjA - null null
2025-05-11 20:40:53.471 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:40:53.472 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:40:53.479 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:53.484 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:55.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:40:55.769 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:40:55.770 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:40:55.772 +07:00 [INF] Employee accessing chat interface. User ID: 1594ee82-f7c5-4831-b421-70756926d0fe
2025-05-11 20:40:55.775 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:40:55.779 +07:00 [INF] No unread customer messages found.
2025-05-11 20:40:55.780 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:40:55.783 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:55.786 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:55.790 +07:00 [INF] Executed ViewResult - view Index executed in 10.2295ms.
2025-05-11 20:40:55.792 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 19.624ms
2025-05-11 20:40:55.794 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:40:55.795 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 26.5385 ms
2025-05-11 20:40:55.799 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 34.947ms
2025-05-11 20:40:55.799 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:55.807 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:40:55.810 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:40:55.811 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 2340.5226 ms
2025-05-11 20:40:55.813 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=-KjoHOjx2WAASdVZOqYtjA - 200 null null 2346.2104ms
2025-05-11 20:40:55.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:40:55.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:40:55.815 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:40:55.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 9.836ms
2025-05-11 20:40:55.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.2795ms
2025-05-11 20:40:55.832 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:40:55.839 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:40:55.840 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:40:55.841 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 9.1369 ms
2025-05-11 20:40:55.845 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 29.223ms
2025-05-11 20:40:55.852 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=yglZDrAYiU9k1j3kJQnMXA - null null
2025-05-11 20:40:55.856 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:40:55.857 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:40:55.870 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:40:55.875 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:41:16.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Account/Manage - null null
2025-05-11 20:41:16.196 +07:00 [INF] HTTP GET /Account/Manage responded 404 in 0.8794 ms
2025-05-11 20:41:16.199 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Account/Manage - 404 0 null 10.8528ms
2025-05-11 20:41:16.204 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Account/Manage, Response status code: 404
2025-05-11 20:41:16.227 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:41:16.234 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:41:16.237 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:41:16.239 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 20384.0651 ms
2025-05-11 20:41:16.242 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=yglZDrAYiU9k1j3kJQnMXA - 200 null null 20390.1031ms
2025-05-11 20:41:18.648 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - null null
2025-05-11 20:41:18.664 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:41:18.667 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "EmployeeChat", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.EmployeeChatController (DoAnLTW).
2025-05-11 20:41:18.671 +07:00 [INF] Employee accessing chat interface. User ID: 1594ee82-f7c5-4831-b421-70756926d0fe
2025-05-11 20:41:18.685 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetUserId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId] AS [CustomerId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [CustomerName], (
    SELECT TOP(1) [m0].[Content]
    FROM [Messages] AS [m0]
    WHERE [m0].[ReceiverId] = @__GetUserId_0 AND [m0].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m0].[SenderId]
    ORDER BY [m0].[Timestamp] DESC) AS [LastMessage], COALESCE((
    SELECT TOP(1) [m1].[Timestamp]
    FROM [Messages] AS [m1]
    WHERE [m1].[ReceiverId] = @__GetUserId_0 AND [m1].[IsRead] = CAST(0 AS bit) AND [m].[SenderId] = [m1].[SenderId]
    ORDER BY [m1].[Timestamp] DESC), '0001-01-01T00:00:00.0000000') AS [Timestamp]
FROM [Messages] AS [m]
WHERE [m].[ReceiverId] = @__GetUserId_0 AND [m].[IsRead] = CAST(0 AS bit)
GROUP BY [m].[SenderId]
2025-05-11 20:41:18.691 +07:00 [INF] No unread customer messages found.
2025-05-11 20:41:18.694 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:41:18.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:41:18.705 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:41:18.711 +07:00 [INF] Executed ViewResult - view Index executed in 16.9526ms.
2025-05-11 20:41:18.713 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW) in 42.8599ms
2025-05-11 20:41:18.717 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.EmployeeChatController.Index (DoAnLTW)'
2025-05-11 20:41:18.721 +07:00 [INF] HTTP GET /Admin/EmployeeChat responded 200 in 57.9920 ms
2025-05-11 20:41:18.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/EmployeeChat - 200 null text/html; charset=utf-8 77.1997ms
2025-05-11 20:41:18.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:41:18.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.1144ms
2025-05-11 20:41:18.848 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:41:18.853 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:41:18.854 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:41:18.856 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:41:18.858 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 5.1017 ms
2025-05-11 20:41:18.860 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 11.8803ms
2025-05-11 20:41:18.906 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=OTI0Ms0uudLzvDDu772mSw - null null
2025-05-11 20:41:18.916 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:41:18.918 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:41:18.926 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:41:18.933 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:41:26.052 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Statistics - null null
2025-05-11 20:41:26.061 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.StatisticsController.Index (DoAnLTW)'
2025-05-11 20:41:26.069 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Statistics", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.Nullable`1[System.Int32]) on controller DoAnLTW.Areas.Admin.Controllers.StatisticsController (DoAnLTW).
2025-05-11 20:41:26.106 +07:00 [INF] Starting statistics retrieval for year 2025
2025-05-11 20:41:26.136 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [o].[OrderDate])
FROM [Orders] AS [o]
2025-05-11 20:41:26.152 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [p].[BookingDate])
FROM [PetServices] AS [p]
2025-05-11 20:41:26.173 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
2025-05-11 20:41:26.188 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [PetServices] AS [p]
2025-05-11 20:41:26.203 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-05-11 20:41:26.231 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
2025-05-11 20:41:26.253 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[Price]), 0.0)
FROM [PetServices] AS [p]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
2025-05-11 20:41:26.307 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Name] AS [Category], COALESCE(SUM(CAST([o].[Quantity] AS decimal(18,2)) * [o].[Price]), 0.0) AS [Revenue]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [c].[Name]
2025-05-11 20:41:26.337 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Name] AS [Brand], COALESCE(SUM(CAST([o].[Quantity] AS decimal(18,2)) * [o].[Price]), 0.0) AS [Revenue]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [b].[Name]
2025-05-11 20:41:26.384 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE [o].[Status]
    WHEN 0 THEN N'ChoXuLy'
    WHEN 1 THEN N'DangGiaoHang'
    WHEN 2 THEN N'DaGiaoHang'
    ELSE CAST([o].[Status] AS nvarchar(max))
END AS [Status], COUNT(*) AS [Count]
FROM [Orders] AS [o]
WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
GROUP BY [o].[Status]
2025-05-11 20:41:26.410 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE [p].[Status]
    WHEN 0 THEN N'ChoXacNhan'
    WHEN 1 THEN N'DaXacNhan'
    WHEN 2 THEN N'DangThucHien'
    WHEN 3 THEN N'HoanThanh'
    WHEN 4 THEN N'DaHuy'
    ELSE CAST([p].[Status] AS nvarchar(max))
END AS [Status], COUNT(*) AS [Count]
FROM [PetServices] AS [p]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
GROUP BY [p].[Status]
2025-05-11 20:41:26.443 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Name] AS [Brand], COUNT(*) AS [Count]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
GROUP BY [b].[Name]
2025-05-11 20:41:26.466 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Name] AS [Category], COALESCE(SUM([o].[Quantity]), 0) AS [Quantity]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [c].[Name]
2025-05-11 20:41:26.486 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Name] AS [ServiceName], COUNT(*) AS [Count]
FROM [PetServices] AS [p]
INNER JOIN [Services] AS [s] ON [p].[ServiceId] = [s].[ServiceId]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
GROUP BY [s].[Name]
2025-05-11 20:41:26.517 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Key] AS [Month], COALESCE(SUM([o0].[TotalAmount]), 0.0) AS [Revenue]
FROM (
    SELECT [o].[TotalAmount], DATEPART(month, [o].[OrderDate]) AS [Key]
    FROM [Orders] AS [o]
    WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
) AS [o0]
GROUP BY [o0].[Key]
2025-05-11 20:41:26.537 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Key] AS [Month], COALESCE(SUM([p0].[Price]), 0.0) AS [Revenue]
FROM (
    SELECT [p].[Price], DATEPART(month, [p].[BookingDate]) AS [Key]
    FROM [PetServices] AS [p]
    WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
) AS [p0]
GROUP BY [p0].[Key]
2025-05-11 20:41:26.555 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Key] AS [Quarter], COALESCE(SUM([o0].[TotalAmount]), 0.0) AS [Revenue]
FROM (
    SELECT [o].[TotalAmount], (DATEPART(month, [o].[OrderDate]) - 1) / 3 + 1 AS [Key]
    FROM [Orders] AS [o]
    WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
) AS [o0]
GROUP BY [o0].[Key]
2025-05-11 20:41:26.568 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Key] AS [Quarter], COALESCE(SUM([p0].[Price]), 0.0) AS [Revenue]
FROM (
    SELECT [p].[Price], (DATEPART(month, [p].[BookingDate]) - 1) / 3 + 1 AS [Key]
    FROM [PetServices] AS [p]
    WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
) AS [p0]
GROUP BY [p0].[Key]
2025-05-11 20:41:26.601 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[ProductId], [p].[Name] AS [ProductName], COALESCE(SUM([o].[Quantity]), 0) AS [QuantitySold], COALESCE(SUM(CAST([o].[Quantity] AS decimal(18,2)) * [o].[Price]), 0.0) AS [Revenue]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [o].[ProductId], [p].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
2025-05-11 20:41:26.624 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[ServiceId], [s].[Name] AS [ServiceName], COUNT(*) AS [BookingCount], COALESCE(SUM([p].[Price]), 0.0) AS [Revenue]
FROM [PetServices] AS [p]
INNER JOIN [Services] AS [s] ON [p].[ServiceId] = [s].[ServiceId]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
GROUP BY [p].[ServiceId], [s].[Name]
ORDER BY COUNT(*) DESC
2025-05-11 20:41:26.631 +07:00 [INF] Statistics retrieval completed successfully for year 2025
2025-05-11 20:41:26.634 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:41:26.650 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:41:26.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:41:26.673 +07:00 [INF] Executed ViewResult - view Index executed in 39.1532ms.
2025-05-11 20:41:26.676 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.StatisticsController.Index (DoAnLTW) in 603.9923ms
2025-05-11 20:41:26.681 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.StatisticsController.Index (DoAnLTW)'
2025-05-11 20:41:26.683 +07:00 [INF] HTTP GET /Admin/Statistics responded 200 in 622.7792 ms
2025-05-11 20:41:26.685 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:41:26.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Statistics - 200 null text/html; charset=utf-8 634.5923ms
2025-05-11 20:41:26.689 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:41:26.696 +07:00 [INF] Executed endpoint '/chatHub'
2025-05-11 20:41:26.698 +07:00 [INF] HTTP CONNECT /chatHub responded 200 in 7782.2120 ms
2025-05-11 20:41:26.700 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:41:26.701 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5134/chatHub?id=OTI0Ms0uudLzvDDu772mSw - 200 null null 7794.771ms
2025-05-11 20:41:26.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:41:26.705 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.7451ms
2025-05-11 20:41:26.717 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.9125ms
2025-05-11 20:42:12.827 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:42:12.833 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:42:12.842 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:42:12.851 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:42:12.857 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:12.867 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:42:12.876 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:42:12.882 +07:00 [INF] Executed ViewResult - view Index executed in 25.4626ms.
2025-05-11 20:42:12.892 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 46.5486ms
2025-05-11 20:42:12.894 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:42:12.895 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 62.6733 ms
2025-05-11 20:42:12.898 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 71.1333ms
2025-05-11 20:42:12.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:12.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:12.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.9009ms
2025-05-11 20:42:12.950 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.0912ms
2025-05-11 20:42:20.114 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Order - null null
2025-05-11 20:42:20.120 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:42:20.125 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Order", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Areas.Admin.Controllers.OrderController (DoAnLTW).
2025-05-11 20:42:20.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[Address], [o].[AlternateAddress], [o].[Email], [o].[FirstName], [o].[IsPaid], [o].[LastName], [o].[OrderDate], [o].[PaymentMethod], [o].[PhoneNumber], [o].[Status], [o].[TotalAmount], [o0].[Id], [o0].[OrderId], [o0].[Price], [o0].[ProductId], [o0].[ProductName], [o0].[Quantity], [o0].[Size]
FROM [Orders] AS [o]
LEFT JOIN [OrderDetails] AS [o0] ON [o].[Id] = [o0].[OrderId]
ORDER BY [o].[Id]
2025-05-11 20:42:20.142 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:20.146 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:42:20.155 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:42:20.164 +07:00 [INF] Executed ViewResult - view Index executed in 21.384ms.
2025-05-11 20:42:20.166 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW) in 31.443ms
2025-05-11 20:42:20.169 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.OrderController.Index (DoAnLTW)'
2025-05-11 20:42:20.172 +07:00 [INF] HTTP GET /Admin/Order responded 200 in 52.8469 ms
2025-05-11 20:42:20.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Order - 200 null text/html; charset=utf-8 60.1351ms
2025-05-11 20:42:20.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:20.193 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:20.199 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 6.4217ms
2025-05-11 20:42:20.205 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.764ms
2025-05-11 20:42:23.363 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Admin/Statistics - null null
2025-05-11 20:42:23.371 +07:00 [INF] Executing endpoint 'DoAnLTW.Areas.Admin.Controllers.StatisticsController.Index (DoAnLTW)'
2025-05-11 20:42:23.372 +07:00 [INF] Route matched with {area = "Admin", action = "Index", controller = "Statistics", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.Nullable`1[System.Int32]) on controller DoAnLTW.Areas.Admin.Controllers.StatisticsController (DoAnLTW).
2025-05-11 20:42:23.376 +07:00 [INF] Starting statistics retrieval for year 2025
2025-05-11 20:42:23.383 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [o].[OrderDate])
FROM [Orders] AS [o]
2025-05-11 20:42:23.389 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [p].[BookingDate])
FROM [PetServices] AS [p]
2025-05-11 20:42:23.396 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
2025-05-11 20:42:23.402 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [PetServices] AS [p]
2025-05-11 20:42:23.408 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-05-11 20:42:23.415 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalAmount]), 0.0)
FROM [Orders] AS [o]
WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
2025-05-11 20:42:23.420 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[Price]), 0.0)
FROM [PetServices] AS [p]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
2025-05-11 20:42:23.430 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Name] AS [Category], COALESCE(SUM(CAST([o].[Quantity] AS decimal(18,2)) * [o].[Price]), 0.0) AS [Revenue]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [c].[Name]
2025-05-11 20:42:23.443 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Name] AS [Brand], COALESCE(SUM(CAST([o].[Quantity] AS decimal(18,2)) * [o].[Price]), 0.0) AS [Revenue]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [b].[Name]
2025-05-11 20:42:23.452 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE [o].[Status]
    WHEN 0 THEN N'ChoXuLy'
    WHEN 1 THEN N'DangGiaoHang'
    WHEN 2 THEN N'DaGiaoHang'
    ELSE CAST([o].[Status] AS nvarchar(max))
END AS [Status], COUNT(*) AS [Count]
FROM [Orders] AS [o]
WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
GROUP BY [o].[Status]
2025-05-11 20:42:23.462 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE [p].[Status]
    WHEN 0 THEN N'ChoXacNhan'
    WHEN 1 THEN N'DaXacNhan'
    WHEN 2 THEN N'DangThucHien'
    WHEN 3 THEN N'HoanThanh'
    WHEN 4 THEN N'DaHuy'
    ELSE CAST([p].[Status] AS nvarchar(max))
END AS [Status], COUNT(*) AS [Count]
FROM [PetServices] AS [p]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
GROUP BY [p].[Status]
2025-05-11 20:42:23.471 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Name] AS [Brand], COUNT(*) AS [Count]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
GROUP BY [b].[Name]
2025-05-11 20:42:23.482 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Name] AS [Category], COALESCE(SUM([o].[Quantity]), 0) AS [Quantity]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [c].[Name]
2025-05-11 20:42:23.491 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Name] AS [ServiceName], COUNT(*) AS [Count]
FROM [PetServices] AS [p]
INNER JOIN [Services] AS [s] ON [p].[ServiceId] = [s].[ServiceId]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
GROUP BY [s].[Name]
2025-05-11 20:42:23.505 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Key] AS [Month], COALESCE(SUM([o0].[TotalAmount]), 0.0) AS [Revenue]
FROM (
    SELECT [o].[TotalAmount], DATEPART(month, [o].[OrderDate]) AS [Key]
    FROM [Orders] AS [o]
    WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
) AS [o0]
GROUP BY [o0].[Key]
2025-05-11 20:42:23.512 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Key] AS [Month], COALESCE(SUM([p0].[Price]), 0.0) AS [Revenue]
FROM (
    SELECT [p].[Price], DATEPART(month, [p].[BookingDate]) AS [Key]
    FROM [PetServices] AS [p]
    WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
) AS [p0]
GROUP BY [p0].[Key]
2025-05-11 20:42:23.521 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Key] AS [Quarter], COALESCE(SUM([o0].[TotalAmount]), 0.0) AS [Revenue]
FROM (
    SELECT [o].[TotalAmount], (DATEPART(month, [o].[OrderDate]) - 1) / 3 + 1 AS [Key]
    FROM [Orders] AS [o]
    WHERE DATEPART(year, [o].[OrderDate]) = @__year_0
) AS [o0]
GROUP BY [o0].[Key]
2025-05-11 20:42:23.531 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Key] AS [Quarter], COALESCE(SUM([p0].[Price]), 0.0) AS [Revenue]
FROM (
    SELECT [p].[Price], (DATEPART(month, [p].[BookingDate]) - 1) / 3 + 1 AS [Key]
    FROM [PetServices] AS [p]
    WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
) AS [p0]
GROUP BY [p0].[Key]
2025-05-11 20:42:23.544 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [o].[ProductId], [p].[Name] AS [ProductName], COALESCE(SUM([o].[Quantity]), 0) AS [QuantitySold], COALESCE(SUM(CAST([o].[Quantity] AS decimal(18,2)) * [o].[Price]), 0.0) AS [Revenue]
FROM [OrderDetails] AS [o]
INNER JOIN [Orders] AS [o0] ON [o].[OrderId] = [o0].[Id]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
WHERE DATEPART(year, [o0].[OrderDate]) = @__year_0
GROUP BY [o].[ProductId], [p].[Name]
ORDER BY COALESCE(SUM([o].[Quantity]), 0) DESC
2025-05-11 20:42:23.555 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__year_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [p].[ServiceId], [s].[Name] AS [ServiceName], COUNT(*) AS [BookingCount], COALESCE(SUM([p].[Price]), 0.0) AS [Revenue]
FROM [PetServices] AS [p]
INNER JOIN [Services] AS [s] ON [p].[ServiceId] = [s].[ServiceId]
WHERE DATEPART(year, [p].[BookingDate]) = @__year_0
GROUP BY [p].[ServiceId], [s].[Name]
ORDER BY COUNT(*) DESC
2025-05-11 20:42:23.559 +07:00 [INF] Statistics retrieval completed successfully for year 2025
2025-05-11 20:42:23.560 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:23.562 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:42:23.567 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:42:23.572 +07:00 [INF] Executed ViewResult - view Index executed in 11.7411ms.
2025-05-11 20:42:23.573 +07:00 [INF] Executed action DoAnLTW.Areas.Admin.Controllers.StatisticsController.Index (DoAnLTW) in 198.345ms
2025-05-11 20:42:23.574 +07:00 [INF] Executed endpoint 'DoAnLTW.Areas.Admin.Controllers.StatisticsController.Index (DoAnLTW)'
2025-05-11 20:42:23.576 +07:00 [INF] HTTP GET /Admin/Statistics responded 200 in 206.2568 ms
2025-05-11 20:42:23.578 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Admin/Statistics - 200 null text/html; charset=utf-8 214.8895ms
2025-05-11 20:42:23.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:23.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:23.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.3975ms
2025-05-11 20:42:23.607 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.0471ms
2025-05-11 20:42:33.656 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Logout - application/x-www-form-urlencoded 225
2025-05-11 20:42:33.678 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:42:33.680 +07:00 [INF] Executing endpoint '/Account/Logout'
2025-05-11 20:42:33.687 +07:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2025-05-11 20:42:33.690 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LogoutModel.OnPost - ModelState is "Valid"
2025-05-11 20:42:33.694 +07:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-05-11 20:42:33.696 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:42:33.699 +07:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-05-11 20:42:33.701 +07:00 [INF] User logged out.
2025-05-11 20:42:33.702 +07:00 [INF] Executed handler method OnPost, returned result Microsoft.AspNetCore.Mvc.RedirectToPageResult.
2025-05-11 20:42:33.706 +07:00 [INF] Executing RedirectToPageResult, redirecting to null.
2025-05-11 20:42:33.709 +07:00 [INF] Executed page /Account/Logout in 19.2019ms
2025-05-11 20:42:33.712 +07:00 [INF] Executed endpoint '/Account/Logout'
2025-05-11 20:42:33.715 +07:00 [INF] HTTP POST /Identity/Account/Logout responded 302 in 36.6311 ms
2025-05-11 20:42:33.718 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Logout - 302 0 null 62.6882ms
2025-05-11 20:42:33.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Logout - null null
2025-05-11 20:42:33.731 +07:00 [INF] Executing endpoint '/Account/Logout'
2025-05-11 20:42:33.733 +07:00 [INF] Route matched with {page = "/Account/Logout", area = "Identity", action = "", controller = ""}. Executing page /Account/Logout
2025-05-11 20:42:33.734 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:42:33.736 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:42:33.743 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:33.751 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:33.761 +07:00 [INF] Executed page /Account/Logout in 26.7525ms
2025-05-11 20:42:33.765 +07:00 [INF] Executed endpoint '/Account/Logout'
2025-05-11 20:42:33.768 +07:00 [INF] HTTP GET /Identity/Account/Logout responded 200 in 39.9156 ms
2025-05-11 20:42:33.774 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Logout - 200 null text/html; charset=utf-8 52.5418ms
2025-05-11 20:42:33.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:42:33.797 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:33.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:42:33.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:42:33.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 11.4987ms
2025-05-11 20:42:33.805 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.7781 ms
2025-05-11 20:42:33.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:33.829 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.3323 ms
2025-05-11 20:42:33.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 46.8789ms
2025-05-11 20:42:33.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 42.8536ms
2025-05-11 20:42:33.832 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.1966 ms
2025-05-11 20:42:33.852 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:42:33.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.4398ms
2025-05-11 20:42:33.864 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:42:33.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 69.1459ms
2025-05-11 20:42:33.882 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:42:41.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/Login - null null
2025-05-11 20:42:41.351 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:42:41.361 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:42:41.365 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnGetAsync - ModelState is "Valid"
2025-05-11 20:42:41.368 +07:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-05-11 20:42:41.371 +07:00 [INF] Executed handler method OnGetAsync, returned result .
2025-05-11 20:42:41.373 +07:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-05-11 20:42:41.374 +07:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-05-11 20:42:41.386 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:41.393 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:41.401 +07:00 [INF] Executed page /Account/Login in 36.6271ms
2025-05-11 20:42:41.403 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:42:41.405 +07:00 [INF] HTTP GET /Identity/Account/Login responded 200 in 54.3455 ms
2025-05-11 20:42:41.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/Login - 200 null text/html; charset=utf-8 69.5806ms
2025-05-11 20:42:41.436 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/icon_google.ico - null null
2025-05-11 20:42:41.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - null null
2025-05-11 20:42:41.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-05-11 20:42:41.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - null null
2025-05-11 20:42:41.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:41.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - null null
2025-05-11 20:42:41.467 +07:00 [INF] HTTP GET /lib/jquery-validation/dist/jquery.validate.min.js responded 404 in 0.3798 ms
2025-05-11 20:42:41.472 +07:00 [INF] HTTP GET /Identity/Account/mail/contact.js responded 404 in 0.2406 ms
2025-05-11 20:42:41.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 32.7925ms
2025-05-11 20:42:41.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - null null
2025-05-11 20:42:41.454 +07:00 [INF] HTTP GET /Identity/Account/img/payments.png responded 404 in 0.3463 ms
2025-05-11 20:42:41.441 +07:00 [INF] HTTP GET /img/icon_google.ico responded 404 in 0.2541 ms
2025-05-11 20:42:41.454 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:41.488 +07:00 [INF] HTTP GET /Identity/Account/mail/jqBootstrapValidation.min.js responded 404 in 0.3615 ms
2025-05-11 20:42:41.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js - 404 0 null 48.7649ms
2025-05-11 20:42:41.530 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation/dist/jquery.validate.min.js, Response status code: 404
2025-05-11 20:42:41.505 +07:00 [INF] HTTP GET /lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js responded 404 in 0.2195 ms
2025-05-11 20:42:41.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/img/payments.png - 404 0 null 70.2693ms
2025-05-11 20:42:41.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/icon_google.ico - 404 0 null 72.8213ms
2025-05-11 20:42:41.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js - 404 0 null 79.1939ms
2025-05-11 20:42:41.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.9854ms
2025-05-11 20:42:41.495 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Identity/Account/mail/contact.js - 404 0 null 51.6303ms
2025-05-11 20:42:41.541 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js - 404 0 null 97.4605ms
2025-05-11 20:42:41.548 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/img/payments.png, Response status code: 404
2025-05-11 20:42:41.552 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/icon_google.ico, Response status code: 404
2025-05-11 20:42:41.557 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/jqBootstrapValidation.min.js, Response status code: 404
2025-05-11 20:42:41.569 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/Identity/Account/mail/contact.js, Response status code: 404
2025-05-11 20:42:41.575 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js, Response status code: 404
2025-05-11 20:42:45.045 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/Identity/Account/Login - application/x-www-form-urlencoded 269
2025-05-11 20:42:45.055 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:42:45.058 +07:00 [INF] Executing endpoint '/Account/Login'
2025-05-11 20:42:45.061 +07:00 [INF] Route matched with {page = "/Account/Login", area = "Identity", action = "", controller = ""}. Executing page /Account/Login
2025-05-11 20:42:45.067 +07:00 [INF] Executing handler method DoAnLTW.Areas.Identity.Pages.Account.LoginModel.OnPostAsync - ModelState is "Valid"
2025-05-11 20:42:45.075 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-11 20:42:45.250 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-11 20:42:45.262 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:42:45.271 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-11 20:42:45.278 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:42:45.283 +07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-11 20:42:45.289 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-11 20:42:45.299 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:42:45.305 +07:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-05-11 20:42:45.307 +07:00 [INF] Executing LocalRedirectResult, redirecting to /.
2025-05-11 20:42:45.309 +07:00 [INF] Executed page /Account/Login in 244.4081ms
2025-05-11 20:42:45.312 +07:00 [INF] Executed endpoint '/Account/Login'
2025-05-11 20:42:45.316 +07:00 [INF] HTTP POST /Identity/Account/Login responded 302 in 260.4177 ms
2025-05-11 20:42:45.322 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/Identity/Account/Login - 302 0 null 277.1556ms
2025-05-11 20:42:45.326 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/ - null null
2025-05-11 20:42:45.336 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:42:45.342 +07:00 [INF] Route matched with {action = "Index", controller = "Home", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.HomeController (DoAnLTW).
2025-05-11 20:42:45.347 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:45.352 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:45.372 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
ORDER BY [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0]
2025-05-11 20:42:45.387 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:45.397 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:45.403 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:45.410 +07:00 [INF] Executed ViewResult - view Index executed in 22.881ms.
2025-05-11 20:42:45.413 +07:00 [INF] Executed action DoAnLTW.Controllers.HomeController.Index (DoAnLTW) in 67.771ms
2025-05-11 20:42:45.415 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.HomeController.Index (DoAnLTW)'
2025-05-11 20:42:45.417 +07:00 [INF] HTTP GET / responded 200 in 80.9813 ms
2025-05-11 20:42:45.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/ - 200 null text/html; charset=utf-8 93.4583ms
2025-05-11 20:42:45.451 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:45.455 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:45.455 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:42:45.456 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 4.6428ms
2025-05-11 20:42:45.463 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.3955 ms
2025-05-11 20:42:45.464 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.2507ms
2025-05-11 20:42:45.471 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 15.9589ms
2025-05-11 20:42:45.480 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:42:46.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Shop - null null
2025-05-11 20:42:46.847 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.ShopController.Index (DoAnLTW)'
2025-05-11 20:42:46.854 +07:00 [INF] Route matched with {action = "Index", controller = "Shop", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Decimal], System.Nullable`1[System.Decimal], System.String) on controller DoAnLTW.Controllers.ShopController (DoAnLTW).
2025-05-11 20:42:46.898 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-11 20:42:46.979 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Description], [p].[Name], [c].[CategoryId], [c].[ImageUrl], [c].[Name], [b].[BrandId], [b].[ImageUrl], [b].[Name], [s0].[ProductId], [s0].[SizeId], [s0].[Price], [s0].[Stock], [s0].[SizeId0], [s0].[size], [p1].[Product_ImagesId], [p1].[ImageUrl], [p1].[ProductId], [r].[ReviewId], [r].[Comment], [r].[CreatedAt], [r].[ProductId], [r].[Rating], [r].[UserId]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[CategoryId]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[BrandId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [p0].[Price], [p0].[Stock], [s].[SizeId] AS [SizeId0], [s].[size]
    FROM [ProductSizes] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[SizeId]
) AS [s0] ON [p].[ProductId] = [s0].[ProductId]
LEFT JOIN [ProductImages] AS [p1] ON [p].[ProductId] = [p1].[ProductId]
LEFT JOIN [Reviews] AS [r] ON [p].[ProductId] = [r].[ProductId]
ORDER BY [p].[Name], [p].[ProductId], [c].[CategoryId], [b].[BrandId], [s0].[ProductId], [s0].[SizeId], [s0].[SizeId0], [p1].[Product_ImagesId]
2025-05-11 20:42:47.025 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[Name], (
    SELECT COUNT(*)
    FROM [Products] AS [p]
    WHERE [p].[BrandId] = [b].[BrandId]) AS [ProductCount]
FROM [Brands] AS [b]
2025-05-11 20:42:47.047 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SizeId], [s].[size] AS [SizeDisplay], (
    SELECT COUNT(*)
    FROM [ProductSizes] AS [p]
    WHERE [p].[SizeId] = [s].[SizeId]) AS [ProductCount]
FROM [Sizes] AS [s]
ORDER BY [s].[size]
2025-05-11 20:42:47.067 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[Name], (
    SELECT COUNT(*)
    FROM [Products] AS [p]
    WHERE [p].[CategoryId] = [c].[CategoryId]) AS [ProductCount]
FROM [Categories] AS [c]
2025-05-11 20:42:47.102 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__range_Min_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__range_Max_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [p].[ProductId]
    FROM [ProductSizes] AS [p]
    WHERE [p].[Price] >= @__range_Min_0 AND [p].[Price] <= @__range_Max_Value_1
) AS [p0]
2025-05-11 20:42:47.112 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__range_Min_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__range_Max_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [p].[ProductId]
    FROM [ProductSizes] AS [p]
    WHERE [p].[Price] >= @__range_Min_0 AND [p].[Price] <= @__range_Max_Value_1
) AS [p0]
2025-05-11 20:42:47.121 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__range_Min_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__range_Max_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [p].[ProductId]
    FROM [ProductSizes] AS [p]
    WHERE [p].[Price] >= @__range_Min_0 AND [p].[Price] <= @__range_Max_Value_1
) AS [p0]
2025-05-11 20:42:47.129 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__range_Min_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @__range_Max_Value_1='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [p].[ProductId]
    FROM [ProductSizes] AS [p]
    WHERE [p].[Price] >= @__range_Min_0 AND [p].[Price] <= @__range_Max_Value_1
) AS [p0]
2025-05-11 20:42:47.141 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__range_Min_0='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [p].[ProductId]
    FROM [ProductSizes] AS [p]
    WHERE [p].[Price] >= @__range_Min_0
) AS [p0]
2025-05-11 20:42:47.163 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-05-11 20:42:47.181 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:47.285 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:47.291 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:47.298 +07:00 [INF] Executed ViewResult - view Index executed in 117.1143ms.
2025-05-11 20:42:47.301 +07:00 [INF] Executed action DoAnLTW.Controllers.ShopController.Index (DoAnLTW) in 439.7471ms
2025-05-11 20:42:47.303 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.ShopController.Index (DoAnLTW)'
2025-05-11 20:42:47.305 +07:00 [INF] HTTP GET /Shop responded 200 in 458.0793 ms
2025-05-11 20:42:47.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Shop - 200 null text/html; charset=utf-8 465.8192ms
2025-05-11 20:42:47.336 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:42:47.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:47.341 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:47.341 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.6848 ms
2025-05-11 20:42:47.345 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.5527ms
2025-05-11 20:42:47.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 13.8895ms
2025-05-11 20:42:47.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.825ms
2025-05-11 20:42:47.358 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:42:48.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/Contact - null null
2025-05-11 20:42:48.252 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.ContactController.Index (DoAnLTW)'
2025-05-11 20:42:48.255 +07:00 [INF] Route matched with {action = "Index", controller = "Contact", area = "", page = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller DoAnLTW.Controllers.ContactController (DoAnLTW).
2025-05-11 20:42:48.261 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:48.275 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:48.280 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:48.285 +07:00 [INF] Executed ViewResult - view Index executed in 24.1632ms.
2025-05-11 20:42:48.289 +07:00 [INF] Executed action DoAnLTW.Controllers.ContactController.Index (DoAnLTW) in 31.0159ms
2025-05-11 20:42:48.292 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.ContactController.Index (DoAnLTW)'
2025-05-11 20:42:48.295 +07:00 [INF] HTTP GET /Contact responded 200 in 43.0298 ms
2025-05-11 20:42:48.297 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/Contact - 200 null text/html; charset=utf-8 53.9306ms
2025-05-11 20:42:48.325 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:42:48.330 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.5496 ms
2025-05-11 20:42:48.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:48.331 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:48.332 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 7.2045ms
2025-05-11 20:42:48.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 5.8353ms
2025-05-11 20:42:48.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.4849ms
2025-05-11 20:42:48.381 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:42:48.805 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/CustomerChat - null null
2025-05-11 20:42:48.811 +07:00 [INF] Executing endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:42:48.816 +07:00 [INF] Route matched with {action = "Index", controller = "CustomerChat", area = "", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller DoAnLTW.Controllers.CustomerChatController (DoAnLTW).
2025-05-11 20:42:48.821 +07:00 [INF] Customer accessing chat interface.
2025-05-11 20:42:48.837 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-11 20:42:48.862 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Email], [a0].[EmailConfirmed], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-11 20:42:48.871 +07:00 [INF] Found employee: ID=9214c411-29f4-4eb8-a81c-65054d21675e, Name=employee@gmail.com
2025-05-11 20:42:48.874 +07:00 [INF] Executing ViewResult, running view Index.
2025-05-11 20:42:48.897 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[ImageUrl], [b].[Name]
FROM [Brands] AS [b]
2025-05-11 20:42:48.905 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[ImageUrl], [c].[Name]
FROM [Categories] AS [c]
2025-05-11 20:42:48.913 +07:00 [INF] Executed ViewResult - view Index executed in 40.0635ms.
2025-05-11 20:42:48.918 +07:00 [INF] Executed action DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW) in 98.4336ms
2025-05-11 20:42:48.922 +07:00 [INF] Executed endpoint 'DoAnLTW.Controllers.CustomerChatController.Index (DoAnLTW)'
2025-05-11 20:42:48.927 +07:00 [INF] HTTP GET /CustomerChat responded 200 in 116.9130 ms
2025-05-11 20:42:48.934 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/CustomerChat - 200 null text/html; charset=utf-8 129.0388ms
2025-05-11 20:42:48.976 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/img/payments.png - null null
2025-05-11 20:42:48.983 +07:00 [INF] HTTP GET /img/payments.png responded 404 in 0.4760 ms
2025-05-11 20:42:48.985 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/img/payments.png - 404 0 null 9.3414ms
2025-05-11 20:42:48.986 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - null null
2025-05-11 20:42:48.988 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - text/plain;charset=UTF-8 0
2025-05-11 20:42:48.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5134/_vs/browserLink - null null
2025-05-11 20:42:48.989 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5134/img/payments.png, Response status code: 404
2025-05-11 20:42:48.994 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_framework/aspnetcore-browser-refresh.js - 200 16499 application/javascript; charset=utf-8 7.749ms
2025-05-11 20:42:48.998 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:42:49.009 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5134/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.8666ms
2025-05-11 20:42:49.012 +07:00 [INF] Executing endpoint '/chatHub/negotiate'
2025-05-11 20:42:49.018 +07:00 [INF] Executed endpoint '/chatHub/negotiate'
2025-05-11 20:42:49.019 +07:00 [INF] HTTP POST /chatHub/negotiate responded 200 in 21.5607 ms
2025-05-11 20:42:49.021 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5134/chatHub/negotiate?negotiateVersion=1 - 200 316 application/json 32.7122ms
2025-05-11 20:42:49.023 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5134/chatHub?id=_WMFe3CQlqTCixyaVQhGaw - null null
2025-05-11 20:42:49.028 +07:00 [INF] CORS policy execution successful.
2025-05-11 20:42:49.029 +07:00 [INF] Executing endpoint '/chatHub'
2025-05-11 20:42:49.036 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-11 20:42:49.045 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-11 20:42:49.074 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000), @__otherUserId_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[SenderId], (
    SELECT TOP(1) [a].[UserName]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Id] = [m].[SenderId]) AS [SenderName], [m].[Content], [m].[Timestamp]
FROM [Messages] AS [m]
WHERE ([m].[SenderId] = @__userId_0 AND [m].[ReceiverId] = @__otherUserId_1) OR ([m].[SenderId] = @__otherUserId_1 AND [m].[ReceiverId] = @__userId_0)
ORDER BY [m].[Timestamp]
